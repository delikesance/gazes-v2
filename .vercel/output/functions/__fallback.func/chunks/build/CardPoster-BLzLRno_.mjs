import { b as Ct, _ as bt, d as ke, e as je } from './server.mjs';
import { defineComponent, mergeProps, withCtx, createVNode, toDisplayString, useAttrs, computed, ref, unref, useSSRContext } from 'vue';
import { ssrRenderComponent, ssrInterpolate, ssrRenderSlot, ssrRenderAttrs } from 'vue/server-renderer';
import { Y as defu, Z as withLeadingSlash, C as hasProtocol, F as joinURL, _ as parseURL, a0 as encodeParam, a1 as encodePath } from '../nitro/nitro.mjs';
import { _ as $, a as g } from './index-BZnvd90h.mjs';

async function W(e,t){const i=await async function(e){{const t=(await import('image-meta').then(e=>e.imageMeta))(await fetch(e).then(e=>e.buffer()));if(!t)throw new Error(`No metadata could be extracted from the image \`${e}\`.`);const{width:i,height:r}=t;return {width:i,height:r,ratio:i&&r?i/r:void 0}}}(t).catch(e=>(console.error("Failed to get image meta for "+t,e+""),{width:0,height:0,ratio:0}));return i}function M(e){return t=>t?e[t]||t:e.missingValue}function I(e=""){return "number"==typeof e?e:"string"==typeof e&&e.replace("px","").match(/^\d+$/g)?Number.parseInt(e,10):void 0}function N(e){const t={options:e},i=(i,r={})=>{const o=C(t,i,r);return o},r=(e,t={},r={})=>i(e,{...r,modifiers:defu(t,r.modifiers||{})}).url;for(const o in e.presets)r[o]=(t,i,s)=>r(t,i,{...e.presets[o],...s});return r.options=e,r.getImage=i,r.getMeta=(e,i)=>async function(e,t,i){const r=C(e,t,{...i});return "function"==typeof r.getMeta?await r.getMeta():await W(0,r.url)}(t,e,i),r.getSizes=(e,i)=>function(e,t,i){const r=I(i.modifiers?.width),o=I(i.modifiers?.height),s=function(e){const t={};if("string"==typeof e)for(const i of e.split(/[\s,]+/).filter(e=>e)){const e=i.split(":");2!==e.length?t["1px"]=e[0].trim():t[e[0].trim()]=e[1].trim();}else Object.assign(t,e);return t}(i.sizes),n=i.densities?.trim()?function(e=""){if(void 0===e||!e.length)return [];const t=new Set;for(const i of e.split(" ")){const e=Number.parseInt(i.replace("x",""));e&&t.add(e);}return Array.from(t)}(i.densities.trim()):e.options.densities;!function(e){if(0===e.length)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}(n);const a=r&&o?o/r:0,d=[],l=[];if(Object.keys(s).length>=1){for(const r in s){const c=U(r,String(s[r]),o,a,e);if(void 0!==c){d.push({size:c.size,screenMaxWidth:c.screenMaxWidth,media:`(max-width: ${c.screenMaxWidth}px)`});for(const r of n)l.push({width:c._cWidth*r,src:A(e,t,i,c,r)});}}!function(e){e.sort((e,t)=>e.screenMaxWidth-t.screenMaxWidth);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.media===t&&e.splice(i,1),t=r.media;}for(let i=0;i<e.length;i++)e[i].media=e[i+1]?.media||"";}(d);}else for(const m of n){const r=Object.keys(s)[0];let n=r?U(r,String(s[r]),o,a,e):void 0;void 0===n&&(n={size:"",screenMaxWidth:0,_cWidth:i.modifiers?.width,_cHeight:i.modifiers?.height}),l.push({width:m,src:A(e,t,i,n,m)});}!function(e){e.sort((e,t)=>e.width-t.width);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.width===t&&e.splice(i,1),t=r.width;}}(l);const c=l[l.length-1],u=d.length?d.map(e=>`${e.media?e.media+" ":""}${e.size}`).join(", "):void 0,p=u?"w":"x",f=l.map(e=>`${e.src} ${e.width}${p}`).join(", ");return {sizes:u,srcset:f,src:c?.src}}(t,e,i),t.$img=r,r}function C(e,t,i){if(t&&"string"!=typeof t)throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return {url:t};const{provider:r,defaults:o}=function(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}(e,i.provider||e.options.provider),s=function(e,t){if(!t)return {};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}(e,i.preset);if(t=hasProtocol(t)?t:withLeadingSlash(t),!r.supportsAlias)for(const l in e.options.alias)if(t.startsWith(l)){const i=e.options.alias[l];i&&(t=joinURL(i,t.slice(l.length)));}if(r.validateDomains&&hasProtocol(t)){const i=parseURL(t).host;if(!e.options.domains.find(e=>e===i))return {url:t}}const n=defu(i,s,o);n.modifiers={...n.modifiers};const a=n.modifiers.format;n.modifiers?.width&&(n.modifiers.width=I(n.modifiers.width)),n.modifiers?.height&&(n.modifiers.height=I(n.modifiers.height));const d=r.getImage(t,n,e);return d.format=d.format||a||"",d}function U(e,t,i,r,o){const s=o.options.screens&&o.options.screens[e]||Number.parseInt(e),n=t.endsWith("vw");if(!n&&/^\d+$/.test(t)&&(t+="px"),!n&&!t.endsWith("px"))return;let a=Number.parseInt(t);if(!s||!a)return;n&&(a=Math.round(a/100*s));return {size:t,screenMaxWidth:s,_cWidth:a,_cHeight:r?Math.round(a*r):i}}function A(e,t,i,r,o){return e.$img(t,{...i.modifiers,width:r._cWidth?r._cWidth*o:void 0,height:r._cHeight?r._cHeight*o:void 0},i)}const R=function({formatter:e,keyMap:t,joinWith:i="/",valueMap:r}={}){e||(e=(e,t)=>`${e}=${t}`),t&&"function"!=typeof t&&(t=M(t));const o=r||{};return Object.keys(o).forEach(e=>{"function"!=typeof o[e]&&(o[e]=M(o[e]));}),(r={})=>Object.entries(r).filter(([e,t])=>void 0!==t).map(([i,s])=>{const n=o[i];return "function"==typeof n&&(s=n(r[i])),i="function"==typeof t?t(i):i,e(i,s)}).join(i)}({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>encodeParam(e)+"_"+encodeParam(t)}),E={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{},densities:[1,2],format:["webp","avif","png","jpg","webp"],quality:80,providers:{ipx:{provider:Object.freeze(Object.defineProperty({__proto__:null,getImage:(e,{modifiers:t={},baseURL:i}={},r)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const o=R(t)||"_";return i||(i=joinURL(r.options.nuxt.baseURL,"/_ipx")),{url:joinURL(i,o,encodePath(e))}},operationsGenerator:R,supportsAlias:true,validateDomains:true},Symbol.toStringTag,{value:"Module"})),defaults:{}}}},P=i=>{const r=je(),o=ke();return o.$img||o._img||(o._img=N({...E,event:o.ssrContext?.event,nuxt:{baseURL:r.app.baseURL},runtimeConfig:r}))},B={src:{type:String,required:false},format:{type:String,required:false},quality:{type:[Number,String],required:false},background:{type:String,required:false},fit:{type:String,required:false},modifiers:{type:Object,required:false},preset:{type:String,required:false},provider:{type:String,required:false},sizes:{type:[Object,String],required:false},densities:{type:String,required:false},preload:{type:[Boolean,Object],required:false},width:{type:[String,Number],required:false},height:{type:[String,Number],required:false},alt:{type:String,required:false},referrerpolicy:{type:String,required:false},usemap:{type:String,required:false},longdesc:{type:String,required:false},ismap:{type:Boolean,required:false},loading:{type:String,required:false,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:false,validator:e=>["anonymous","use-credentials","",true,false].includes(e)},decoding:{type:String,required:false,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:false}},H=defineComponent({__name:"NuxtImg",__ssrInlineRender:true,props:{...B,placeholder:{type:[Boolean,String,Number,Array],required:false},placeholderClass:{type:String,required:false},custom:{type:Boolean,required:false}},emits:["load","error"],setup(t,{emit:i}){const r=t,s=useAttrs(),c=true,u=P(),p=(e=>{const t=computed(()=>({provider:e.provider,preset:e.preset})),i=computed(()=>({width:I(e.width),height:I(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:true===e.crossorigin?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),r=P();return {options:t,attrs:i,modifiers:computed(()=>({...e.modifiers,width:I(e.width),height:I(e.height),format:e.format,quality:e.quality||r.options.quality,background:e.background,fit:e.fit}))}})(r),f=ref(false),g$1=ref(),v=computed(()=>u.getSizes(r.src,{...p.options.value,sizes:r.sizes,densities:r.densities,modifiers:{...p.modifiers.value,width:I(r.width),height:I(r.height)}})),y=computed(()=>{const e={...p.attrs.value,"data-nuxt-img":""};return r.placeholder&&!f.value||(e.sizes=v.value.sizes,e.srcset=v.value.srcset),e}),w=computed(()=>{let e=r.placeholder;if(""===e&&(e=true),!e||f.value)return  false;if("string"==typeof e)return e;const t=Array.isArray(e)?e:"number"==typeof e?[e,e]:[10,10];return u(r.src,{...p.modifiers.value,width:t[0],height:t[1],quality:t[2]||50,blur:t[3]||3},p.options.value)}),b=computed(()=>r.sizes?v.value.src:u(r.src,p.modifiers.value,p.options.value)),x=computed(()=>w.value?w.value:b.value);if(r.preload){const e=Object.values(v.value).every(e=>e);g({link:[{rel:"preload",as:"image",nonce:r.nonce,...e?{href:v.value.src,imagesizes:v.value.sizes,imagesrcset:v.value.srcset}:{href:x.value},..."boolean"!=typeof r.preload&&r.preload.fetchPriority?{fetchpriority:r.preload.fetchPriority}:{}}]});}return ke().isHydrating,(e,t,i,r)=>{e.custom?ssrRenderSlot(e.$slots,"default",{...unref(c)?{onerror:"this.setAttribute('data-error', 1)"}:{},imgAttrs:{...y.value,...unref(s)},isLoaded:f.value,src:x.value},null,t,i):t(`<img${ssrRenderAttrs(mergeProps({ref_key:"imgEl",ref:g$1,class:w.value&&!f.value?e.placeholderClass:void 0},{...unref(c)?{onerror:"this.setAttribute('data-error', 1)"}:{},...y.value,...unref(s)},{src:x.value},r))}>`);}}}),L=H.setup;H.setup=(e,t)=>{const i=useSSRContext();return (i.modules||(i.modules=new Set)).add("node_modules/@nuxt/image/dist/runtime/components/NuxtImg.vue"),L?L(e,t):void 0};const D=Object.assign(H,{__name:"NuxtImg"}),T="200px",F=defineComponent({__name:"CardPoster",__ssrInlineRender:true,props:{to:{},src:{},title:{}},setup:e=>(t,r,o,s)=>{const n=D,a=$;r(ssrRenderComponent(bt,mergeProps({to:e.to,"aria-label":`Watch ${e.title}`,class:"snap-start shrink-0 group relative rounded-xl overflow-hidden border border-zinc-800 hover:border-zinc-600 transition-all duration-300 w-[200px] h-[320px] flex flex-col"},s),{default:withCtx((t,i,r,o)=>{if(!i)return [createVNode("div",{class:"h-[240px] relative overflow-hidden"},[createVNode(n,{src:e.src,alt:e.title,sizes:T,class:"w-[200px] h-[240px] object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,["src","alt"]),createVNode("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center"},[createVNode("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[createVNode(a,{name:"heroicons:play",class:"w-12 h-12 text-white drop-shadow-lg"})])])]),createVNode("div",{class:"h-[80px] p-3 bg-zinc-900 flex flex-col justify-between"},[createVNode("div",null,[createVNode("h4",{class:"font-medium text-white text-sm line-clamp-2 mb-1 group-hover:text-violet-400 transition-colors"},toDisplayString(e.title),1)])])];i(`<div class="h-[240px] relative overflow-hidden" data-v-f7976c53${o}>`),i(ssrRenderComponent(n,{src:e.src,alt:e.title,sizes:T,class:"w-[200px] h-[240px] object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,r,o)),i(`<div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center" data-v-f7976c53${o}><div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300" data-v-f7976c53${o}>`),i(ssrRenderComponent(a,{name:"heroicons:play",class:"w-12 h-12 text-white drop-shadow-lg"},null,r,o)),i(`</div></div></div><div class="h-[80px] p-3 bg-zinc-900 flex flex-col justify-between" data-v-f7976c53${o}><div data-v-f7976c53${o}><h4 class="font-medium text-white text-sm line-clamp-2 mb-1 group-hover:text-violet-400 transition-colors" data-v-f7976c53${o}>${ssrInterpolate(e.title)}</h4></div></div>`);}),_:1},o));}}),G=F.setup;F.setup=(e,t)=>{const i=useSSRContext();return (i.modules||(i.modules=new Set)).add("components/CardPoster.vue"),G?G(e,t):void 0};const J=Object.assign(Ct(F,[["__scopeId","data-v-f7976c53"]]),{__name:"CardPoster"});

export { J };
//# sourceMappingURL=CardPoster-BLzLRno_.mjs.map
