import process from 'node:process';globalThis._importMeta_=globalThis._importMeta_||{url:"file:///_entry.js",env:process.env};import { defineComponent, inject, shallowRef, h, resolveComponent, hasInjectionContext, getCurrentInstance, provide, cloneVNode, createElementBlock, computed, defineAsyncComponent, unref, Suspense, nextTick, mergeProps, shallowReactive, ref, Fragment, onErrorCaptured, withCtx, createVNode, useSSRContext, createTextVNode, createApp, reactive, effectScope, toRef, isReadonly, isRef, isShallow, isReactive, toRaw, onServerPrefetch, resolveDynamicComponent, getCurrentScope } from 'vue';
import { J as parseQuery, c as createError, K as klona, L as defuFn, C as hasProtocol, M as isScriptProtocol, F as joinURL, N as getContext, O as withQuery, P as sanitizeStatusCode, Q as withTrailingSlash, R as withoutTrailingSlash, $ as $fetch$1, S as baseURL, T as createHooks, U as executeAsync, W as toRouteMatcher, X as createRouter$1, Y as defu } from '../nitro/nitro.mjs';
import { useRoute, RouterView, createMemoryHistory, createRouter, START_LOCATION } from 'vue-router';
import { _api, addAPIProvider, setCustomIconsLoader } from '@iconify/vue';
import { ssrRenderAttrs, ssrRenderTeleport, ssrRenderComponent, ssrInterpolate, ssrRenderSuspense, ssrRenderVNode } from 'vue/server-renderer';
import 'cheerio';
import 'jsonwebtoken';
import 'bcryptjs';
import 'node:http';
import 'node:https';
import 'node:events';
import 'node:buffer';
import 'node:fs';
import 'node:path';
import 'node:crypto';
import '@supabase/supabase-js';
import '@iconify/utils';
import 'consola';
import 'node:url';
import 'ipx';

globalThis.$fetch||(globalThis.$fetch=$fetch$1.create({baseURL:baseURL()})),"global"in globalThis||(globalThis.global=globalThis);const ve={componentName:"NuxtLink"},he={deep:false},ge={},ye="nuxt-app";function xe(e=ye){return getContext(e,{asyncContext:false})}const be="__nuxt_plugin";function we(e,t){t.hooks&&e.hooks.addHooks(t.hooks);}function _e(e){if("function"==typeof e)return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[be]:true,_name:t})}function Ce(e,t,o){const n=()=>t(),a=xe(e._id);return e.vueApp.runWithContext(()=>a.callAsync(e,n))}function ke(o){const n=function(o){let n;return hasInjectionContext()&&(n=getCurrentInstance()?.appContext.app.$nuxt),n||=xe(o).tryUse(),n||null}(o);if(!n)throw new Error("[nuxt] instance unavailable");return n}function je(e){return ke().$config}function Re(e,t,o){Object.defineProperty(e,t,{get:()=>o});}const ze=Symbol("layout-meta"),Pe=Symbol("route");globalThis._importMeta_.url.replace(/\/app\/.*$/,"/");const Se=()=>ke()?.$router,Ae=()=>hasInjectionContext()?inject(Pe,ke()._route):ke()._route;function qe(e){return e}const Ee=/"/g,Oe=(e,t)=>{e||="/";const o="string"==typeof e?e:"path"in e?Te(e):Se().resolve(e).href,n=hasProtocol(o,{acceptRelative:true}),a=t?.external||n;if(a){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:e}=new URL(o,"http://localhost");if(e&&isScriptProtocol(e))throw new Error(`Cannot navigate to a URL with '${e}' protocol.`)}const r=(()=>{try{if(ke()._processingMiddleware)return !0}catch{return  false}return  false})(),s=Se(),i=ke();if(i.ssrContext){const l="string"==typeof e||a?o:s.resolve(e).fullPath||"/",u=a?o:joinURL(je().app.baseURL,l),c=async function(e){await i.callHook("app:redirected");const o=u.replace(Ee,"%22"),a=function(e,t=false){const o=new URL(e,"http://localhost");if(!t)return o.pathname+o.search+o.hash;if(e.startsWith("//"))return o.toString().replace(o.protocol,"");return o.toString()}(u,n);return i.ssrContext._renderResponse={statusCode:sanitizeStatusCode(t?.redirectCode||302,302),body:`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${o}"></head></html>`,headers:{location:a}},e};return !a&&r?(s.afterEach(e=>e.fullPath===l?c(false):void 0),e):c(!r&&void 0)}return a?(i._scope.stop(),t?.replace?(void 0).replace(o):(void 0).href=o,r?!!i.isHydrating&&new Promise(()=>{}):Promise.resolve()):t?.replace?s.replace(e):s.push(e)};function Te(e){return withQuery(e.path||"",e.query||{})+(e.hash||"")}const Le="__nuxt_error",$e=()=>toRef(ke().payload,"error"),Ue=e=>{const t=He(e);try{ke();const e=$e();0,e.value||=t;}catch{throw t}return t},Be=e=>!!e&&"object"==typeof e&&Le in e,He=e=>{const t=createError(e);return Object.defineProperty(t,Le,{value:true,configurable:false,writable:false}),t},Ne=_e({name:"nuxt:head",enforce:"pre",setup(e){const t=e.ssrContext.head;e.vueApp.use(t);}});function We(e){return Array.isArray(e)?e:[e]}const Me=[{name:"index",path:"/",component:()=>import('./index-D7bSrw88.mjs')},{name:"login",path:"/login",component:()=>import('./login-vwlvM9Bg.mjs')},{name:"movies",path:"/movies",component:()=>import('./movies-9MagRkZd.mjs')},{name:"series",path:"/series",component:()=>import('./series-AxcbHSOe.mjs')},{name:"register",path:"/register",component:()=>import('./register-CjZH2066.mjs')},{name:"catalogue",path:"/catalogue",component:()=>import('./catalogue-IfAzyo0c.mjs')},{name:"anime-id",path:"/anime/:id()",component:()=>import('./_id_-BqUQxzFI.mjs')},{name:"watch-id-season-lang-episode",path:"/watch/:id()/:season()/:lang()/:episode()",meta:{layout:"player"}||{},component:()=>import('./_episode_-CR7NXlqO.mjs')}],Fe=/(:\w+)\([^)]+\)/g,Ve=/(:\w+)[?+*]/g,De=/:\w+/g;function Ie(e){const t=e?.meta.key??e.path.replace(Fe,"$1").replace(Ve,"$1").replace(De,t=>e.params[t.slice(1)]?.toString()||"");return "function"==typeof t?t(e):t}function Je(e){try{const t=(void 0).querySelector(e);if(t)return (Number.parseFloat(getComputedStyle(t).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle((void 0).documentElement).scrollPaddingTop)||0)}catch{}return 0}function Ke(e,t,o,n){if(o)return o;const a=function(e,t){return e!==t&&t!==START_LOCATION&&(Ie(e)!==Ie(t)||!e.matched.every((e,o)=>e.components&&e.components.default===t.matched[o]?.components?.default))}(e,t);return e.hash?{el:e.hash,top:Je(e.hash),behavior:a?n:"instant"}:{left:0,top:0}}const Ye={hashMode:false,scrollBehaviorType:"auto",...{scrollBehavior(e,t,o){const n=ke(),a=Se().options?.scrollBehaviorType??"auto";if(e.path===t.path)return t.hash&&!e.hash?{left:0,top:0}:!!e.hash&&{el:e.hash,top:Je(e.hash),behavior:a};if(false===("function"==typeof e.meta.scrollToTop?e.meta.scrollToTop(e,t):e.meta.scrollToTop))return  false;const r=n._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(s=>{t!==START_LOCATION?n.hooks.hookOnce(r,()=>{requestAnimationFrame(()=>s(Ke(e,t,o,a)));}):s(Ke(e,t,o,a));})}}},Ge=[qe(async(e,t)=>{let o,n;if(!e.meta?.validate)return;const a=([o,n]=executeAsync(()=>Promise.resolve(e.meta.validate(e))),o=await o,n(),o);if(true===a)return;return He({fatal:false,statusCode:a&&a.statusCode||404,statusMessage:a&&a.statusMessage||`Page Not Found: ${e.fullPath}`,data:{path:e.fullPath}})}),qe(async e=>{})],Qe={"auth-client":()=>import('./auth.client-Bb8eCcPc.mjs'),auth:()=>import('./auth-B-7XGc6_.mjs')},Xe=_e({name:"nuxt:router",enforce:"pre",async setup(e){let t,a,r=je().app.baseURL;const s=Ye.history?.(r)??createMemoryHistory(r),i=Ye.routes?([t,a]=executeAsync(()=>Ye.routes(Me)),t=await t,a(),t??Me):Me;let c;const d=createRouter({...Ye,scrollBehavior:(e,t,o)=>{if(t!==START_LOCATION){if(Ye.scrollBehavior){if(d.options.scrollBehavior=Ye.scrollBehavior,"scrollRestoration"in(void 0).history){const e=d.beforeEach(()=>{e(),(void 0).history.scrollRestoration="manual";});}return Ye.scrollBehavior(e,START_LOCATION,c||o)}}else c=o;},history:s,routes:i});e.vueApp.use(d);const p=shallowRef(d.currentRoute.value);d.afterEach((e,t)=>{p.value=t;}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>p.value});const f=e.ssrContext.url,m=shallowRef(d.currentRoute.value),v=()=>{m.value=d.currentRoute.value;};e.hook("page:finish",v),d.afterEach((e,t)=>{e.matched[e.matched.length-1]?.components?.default===t.matched[t.matched.length-1]?.components?.default&&v();});const h={};for(const o in m.value)Object.defineProperty(h,o,{get:()=>m.value[o],enumerable:true});e._route=shallowReactive(h),e._middleware||={global:[],named:{}},$e(),e.ssrContext?.islandContext||d.afterEach(async(t,o,n)=>{delete e._processingMiddleware,n&&await e.callHook("page:loading:end"),4!==n?.type&&t.redirectedFrom&&t.fullPath!==f&&await e.runWithContext(()=>Oe(t.fullPath||"/"));});try{[t,a]=executeAsync(()=>d.push(f)),await t,a(),[t,a]=executeAsync(()=>d.isReady()),await t,a();}catch(x){[t,a]=executeAsync(()=>e.runWithContext(()=>Ue(x))),await t,a();}const g=d.currentRoute.value;if(v(),e.ssrContext?.islandContext)return {provide:{router:d}};const y=e.payload.state._layout;return d.beforeEach(async(t,o)=>{if(await e.callHook("page:loading:start"),t.meta=reactive(t.meta),e.isHydrating&&y&&!isReadonly(t.meta.layout)&&(t.meta.layout=y),e._processingMiddleware=true,!e.ssrContext?.islandContext){const n=new Set([...Ge,...e._middleware.global]);for(const e of t.matched){const t=e.meta.middleware;if(t)for(const e of We(t))n.add(e);}{const o=await e.runWithContext(()=>async function(e){const t="string"==typeof e?e:e.path;{ke().ssrContext._preloadManifest=true;const e=toRouteMatcher(createRouter$1({routes:je().nitro.routeRules}));return defu({},...e.matchAll(t).reverse())}}({path:t.path}));if(o.appMiddleware)for(const e in o.appMiddleware)o.appMiddleware[e]?n.add(e):n.delete(e);}for(const r of n){const n="string"==typeof r?e._middleware.named[r]||await(Qe[r]?.().then(e=>e.default||e)):r;if(!n)throw new Error(`Unknown route middleware: '${r}'.`);try{0;const a=await e.runWithContext(()=>n(t,o));if(!1===a||a instanceof Error){const t=a||He({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await e.runWithContext(()=>Ue(t)),!1}if(!0===a)continue;if(!1===a)return a;if(a)return Be(a)&&a.fatal&&await e.runWithContext(()=>Ue(a)),a}catch(a){const t=He(a);return t.fatal&&await e.runWithContext(()=>Ue(t)),t}}}}),d.onError(async()=>{delete e._processingMiddleware,await e.callHook("page:loading:end");}),d.afterEach(t=>{if(0===t.matched.length)return e.runWithContext(()=>Ue(He({statusCode:404,fatal:false,statusMessage:`Page not found: ${t.fullPath}`,data:{path:t.fullPath}})))}),e.hooks.hookOnce("app:created",async()=>{try{"name"in g&&(g.name=void 0),await d.replace({...g,force:!0}),d.options.scrollBehavior=Ye.scrollBehavior;}catch(x){await e.runWithContext(()=>Ue(x));}}),{provide:{router:d}}}});function Ze(e,t){ke().ssrContext._payloadReducers[e]=t;}const et=[["NuxtError",e=>Be(e)&&e.toJSON()],["EmptyShallowRef",e=>isRef(e)&&isShallow(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["EmptyRef",e=>isRef(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["ShallowRef",e=>isRef(e)&&isShallow(e)&&e.value],["ShallowReactive",e=>isReactive(e)&&isShallow(e)&&toRaw(e)],["Ref",e=>isRef(e)&&e.value],["Reactive",e=>isReactive(e)&&toRaw(e)]],tt=_e({name:"nuxt:revive-payload:server",setup(){for(const[e,t]of et)Ze(e,t);}}),ot=[["Icon",defineAsyncComponent(()=>import('./index-BZnvd90h.mjs').then(e=>e.i).then(e=>e.default||e.default||e))]],nt=_e({name:"nuxt:global-components",setup(e){for(const[t,o]of ot)e.vueApp.component(t,o),e.vueApp.component("Lazy"+t,o);}}),at=defuFn({nuxt:{},icon:{provider:"server",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:true,cssSelectorPrefix:"i-",cssWherePseudo:true,mode:"css",attrs:{"aria-hidden":true},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}});function rt(){const e=ke();return e._appConfig||=klona(at),e._appConfig}const st=[Ne,Xe,tt,nt,_e({name:"@nuxt/icon",setup(){const e=je(),t=rt().icon;_api.setFetch($fetch.native);const o=[];if("server"===t.provider){const n=e.app?.baseURL?.replace(/\/$/,"")??"";o.push(n+(t.localApiEndpoint||"/api/_nuxt_icon")),true!==t.fallbackToApi&&"client-only"!==t.fallbackToApi||o.push(t.iconifyApiEndpoint);}else "none"===t.provider?_api.setFetch(()=>Promise.resolve(new Response)):o.push(t.iconifyApiEndpoint);async function n(e,t){try{const n=await $fetch(o[0]+"/"+t+".json",{query:{icons:e.join(",")}});if(!n||n.prefix!==t||!n.icons)throw new Error("Invalid data"+JSON.stringify(n));return n}catch(n){return console.error("Failed to load custom icons",n),null}}addAPIProvider("",{resources:o});for(const a of t.customCollections||[])a&&setCustomIconsLoader(n,a);}})];defineComponent({name:"ServerPlaceholder",render:()=>createElementBlock("div")});const it=Symbol.for("nuxt:client-only"),lt=defineComponent({name:"ClientOnly",inheritAttrs:false,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:n}){const a=shallowRef(false),r=getCurrentInstance();return r&&(r._nuxtClientOnly=true),provide(it,true),()=>{if(a.value){const e=o.default?.();return e&&1===e.length?[cloneVNode(e[0],n)]:e}const t=o.fallback||o.placeholder;if(t)return h(t);const r=e.fallback||e.placeholder||"",s=e.fallbackTag||e.placeholderTag||"span";return createElementBlock(s,n,r)}}}),ut={default:defineAsyncComponent(()=>import('./default-CnGbmxkJ.mjs').then(e=>e.default||e)),player:defineAsyncComponent(()=>import('./player-HcisSb8M.mjs').then(e=>e.default||e))},ct=defineComponent({name:"LayoutLoader",inheritAttrs:false,props:{name:String,layoutProps:Object},setup:(e,t)=>()=>h(ut[e.name],e.layoutProps,t.slots)}),dt={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},pt=defineComponent({name:"NuxtLayout",inheritAttrs:false,props:dt,setup(e,t){const o=ke(),n=inject(Pe),a=!n||n===Ae()?useRoute():n,r=computed(()=>{let t=unref(e.name)??a?.meta.layout??"default";return t&&!(t in ut)&&e.fallback&&(t=unref(e.fallback)),t}),i=shallowRef();t.expose({layoutRef:i});const u=o.deferHydration();let c;return ()=>{r.value&&r.value;const o=a?.meta.layoutTransition??false,n=c;return c=r.value,(s={default:()=>h(Suspense,{suspensible:true,onResolve:()=>{nextTick(u);}},{default:()=>h(ft,{layoutProps:mergeProps(t.attrs,{ref:i}),key:r.value||void 0,name:r.value,shouldProvide:!e.name,isRenderingNewLayout:e=>e!==n&&e===r.value,hasTransition:!!o},t.slots)})},{default:()=>s.default?.()}).default();var s;}}}),ft=defineComponent({name:"NuxtLayoutProvider",inheritAttrs:false,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:true}},setup(e,t){const n=e.name;e.shouldProvide&&provide(ze,{isCurrent:e=>n===(e.meta.layout??"default")});const a=inject(Pe);if(a&&a===Ae()){const t=useRoute(),n={};for(const o in t){const r=o;Object.defineProperty(n,r,{enumerable:true,get:()=>e.isRenderingNewLayout(e.name)?t[r]:a[r]});}provide(Pe,shallowReactive(n));}return ()=>!n||"string"==typeof n&&!(n in ut)?t.slots.default?.():h(ct,{key:n,layoutProps:e.layoutProps,name:n},t.slots)}}),mt=((e="RouteProvider")=>defineComponent({name:e,props:{route:{type:Object,required:true},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const t=e.renderKey,n=e.route,a={};for(const o in e.route)Object.defineProperty(a,o,{get:()=>t===e.renderKey?e.route[o]:n[o],enumerable:true});return provide(Pe,shallowReactive(a)),()=>e.vnode?h(e.vnode,{ref:e.vnodeRef}):e.vnode}}))(),vt=defineComponent({name:"NuxtPage",inheritAttrs:false,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,slots:o,expose:n}){const a=ke(),r=ref();return inject(Pe,null),n({pageRef:r}),inject(ze,null),a.deferHydration(),()=>h(RouterView,{name:e.name,route:e.route,...t},{default:e=>h(Suspense,{suspensible:true},{default:()=>h(mt,{vnode:o.default?ht(o.default,e):e.Component,route:e.route,vnodeRef:r})})})}});function ht(e,t){const o=e(t);return 1===o.length?h(o[0]):h(Fragment,void 0,o)}const gt=defineComponent({__name:"app",__ssrInlineRender:true,setup(e){const t=ref(null),o=ref(false);return onErrorCaptured((e,n,a)=>(console.error("Vue error captured:",e,a),t.value=e.message||"An unexpected error occurred",o.value=true,false)),(e,n,a,r)=>{const s=lt,i=pt,l=vt;n(`<div${ssrRenderAttrs(r)}>`),ssrRenderTeleport(n,e=>{o.value?(e('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4" role="dialog" aria-modal="true" aria-labelledby="error-title"><div class="bg-zinc-900 border border-zinc-700 rounded-xl p-6 max-w-md w-full"><div class="flex items-start gap-3"><div class="flex-shrink-0">'),e(ssrRenderComponent(s,null,{},a)),e(`</div><div class="flex-1"><h3 id="error-title" class="text-lg font-semibold text-white mb-2"> Une erreur s&#39;est produite </h3><p class="text-zinc-300 text-sm mb-4">${ssrInterpolate(t.value)}</p><div class="flex gap-3"><button class="btn primary text-sm"> Recharger la page </button><button class="btn secondary text-sm"> Fermer </button></div></div></div></div></div>`)):e("\x3c!----\x3e");},"body",false,a),n(ssrRenderComponent(i,null,{default:withCtx((e,t,o,n)=>{if(!t)return [createVNode(l)];t(ssrRenderComponent(l,null,null,o,n));}),_:1},a)),n("</div>");}}}),yt=gt.setup;gt.setup=(e,t)=>{const o=useSSRContext();return (o.modules||(o.modules=new Set)).add("app.vue"),yt?yt(e,t):void 0};function xt(e){const t=e.componentName||"NuxtLink";function o(e){return "string"==typeof e&&e.startsWith("#")}function n(t){const n=Se(),a=je(),r=computed(()=>!!t.target&&"_self"!==t.target),s=computed(()=>{const e=t.to||t.href||"";return "string"==typeof e&&hasProtocol(e,{acceptRelative:true})}),i=resolveComponent("RouterLink"),l=i&&"string"!=typeof i?i.useLink:void 0,u=computed(()=>{if(t.external)return  true;const e=t.to||t.href||"";return "object"!=typeof e&&(""===e||s.value)}),c=computed(()=>{const o=t.to||t.href||"";return u.value?o:function(t,o,n){const a=n??e.trailingSlash;if(!t||"append"!==a&&"remove"!==a)return t;if("string"==typeof t)return wt(t,a);const r="path"in t&&void 0!==t.path?t.path:o(t).path;return {...t,name:void 0,path:wt(r,a)}}(o,n.resolve,t.trailingSlash)}),d=u.value?void 0:l?.({...t,to:c}),p=computed(()=>{const r=t.trailingSlash??e.trailingSlash;if(!c.value||s.value||o(c.value))return c.value;if(u.value){const e="object"==typeof c.value&&"path"in c.value?Te(c.value):c.value;return wt("object"==typeof e?n.resolve(e).href:e,r)}return "object"==typeof c.value?n.resolve(c.value)?.href??null:wt(joinURL(a.app.baseURL,c.value),r)});return {to:c,hasTarget:r,isAbsoluteUrl:s,isExternal:u,href:p,isActive:d?.isActive??computed(()=>c.value===n.currentRoute.value.path),isExactActive:d?.isExactActive??computed(()=>c.value===n.currentRoute.value.path),route:d?.route??computed(()=>n.resolve(c.value)),async navigate(e){await Oe(p.value,{replace:t.replace,external:u.value||r.value});}}}return defineComponent({name:t,props:{to:{type:[String,Object],default:void 0,required:false},href:{type:[String,Object],default:void 0,required:false},target:{type:String,default:void 0,required:false},rel:{type:String,default:void 0,required:false},noRel:{type:Boolean,default:void 0,required:false},prefetch:{type:Boolean,default:void 0,required:false},prefetchOn:{type:[String,Object],default:void 0,required:false},noPrefetch:{type:Boolean,default:void 0,required:false},activeClass:{type:String,default:void 0,required:false},exactActiveClass:{type:String,default:void 0,required:false},prefetchedClass:{type:String,default:void 0,required:false},replace:{type:Boolean,default:void 0,required:false},ariaCurrentValue:{type:String,default:void 0,required:false},external:{type:Boolean,default:void 0,required:false},custom:{type:Boolean,default:void 0,required:false},trailingSlash:{type:String,default:void 0,required:false}},useLink:n,setup(t,{slots:a}){const r=Se(),{to:s,href:i,navigate:u,isExternal:c,hasTarget:d,isAbsoluteUrl:p}=n(t);shallowRef(false);async function f(e=ke()){}return ()=>{if(!c.value&&!d.value&&!o(s.value)){const o={ref:undefined,to:s.value,activeClass:t.activeClass||e.activeClass,exactActiveClass:t.exactActiveClass||e.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(o.rel=t.rel||void 0),h(resolveComponent("RouterLink"),o,a.default)}const n=t.target||null,l=((...e)=>e.find(e=>void 0!==e))(t.noRel?"":t.rel,e.externalRelAttribute,p.value||d.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:i.value,navigate:u,prefetch:f,get route(){if(!i.value)return;const e=new URL(i.value,"http://localhost");return {path:e.pathname,fullPath:e.pathname,get query(){return parseQuery(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:i.value}},rel:l,target:n,isExternal:c.value||d.value,isActive:false,isExactActive:false}):null:h("a",{ref:undefined,href:i.value||null,rel:l,target:n,onClick:e=>{if(!c.value&&!d.value)return e.preventDefault(),t.replace?r.replace(i.value):r.push(i.value)}},a.default?.())}}})}const bt=xt(ve);function wt(e,t){const o="append"===t?withTrailingSlash:withoutTrailingSlash;return hasProtocol(e)&&!e.startsWith("http")?e:o(e,true)}const _t=defineComponent({__name:"error",__ssrInlineRender:true,props:{error:{}},setup(e){const t=e,o=computed(()=>{const{statusCode:e,statusMessage:o,message:n}=t.error;return {400:{title:"Requête invalide",description:"Votre demande contient des informations incorrectes.",action:"Vérifiez votre saisie et réessayez."},401:{title:"Accès non autorisé",description:"Vous devez être connecté pour accéder à cette page.",action:"Connectez-vous et réessayez."},403:{title:"Accès interdit",description:"Vous n'avez pas les permissions nécessaires.",action:"Contactez l'administrateur si nécessaire."},404:{title:"Page introuvable",description:"La page que vous recherchez n'existe pas ou a été déplacée.",action:"Vérifiez l'URL ou retournez à l'accueil."},408:{title:"Délai d'attente dépassé",description:"La requête a pris trop de temps à traiter.",action:"Vérifiez votre connexion et réessayez."},429:{title:"Trop de requêtes",description:"Vous avez fait trop de demandes en peu de temps.",action:"Attendez un moment avant de réessayer."},500:{title:"Erreur serveur interne",description:"Une erreur s'est produite sur nos serveurs.",action:"Nous travaillons à résoudre le problème. Réessayez plus tard."},502:{title:"Passerelle défaillante",description:"Le serveur a reçu une réponse invalide.",action:"Réessayez dans quelques instants."},503:{title:"Service indisponible",description:"Le service est temporairement indisponible.",action:"Nous effectuons peut-être une maintenance. Revenez bientôt."},504:{title:"Délai d'attente de la passerelle",description:"Le serveur n'a pas répondu à temps.",action:"Vérifiez votre connexion et réessayez."}}[e]||{title:"Une erreur s'est produite",description:o||n||"Une erreur inattendue s'est produite.",action:"Réessayez ou contactez le support si le problème persiste."}});return computed(()=>{const{statusCode:e}=t.error;return 404===e?"heroicons:magnifying-glass":e>=400&&e<500?"heroicons:exclamation-triangle":e>=500?"heroicons:server":"heroicons:exclamation-circle"}),computed(()=>{const{statusCode:e}=t.error;return 404===e?"text-blue-400":e>=400&&e<500?"text-amber-400":e>=500?"text-red-400":"text-zinc-400"}),(t,n,a,r)=>{const s=lt,i=bt;n(`<div${ssrRenderAttrs(mergeProps({class:"min-h-screen bg-zinc-950 flex items-center justify-center p-4"},r))} data-v-b993f338><div class="max-w-2xl w-full text-center" data-v-b993f338><div class="mb-8" data-v-b993f338><div class="w-24 h-24 mx-auto mb-6 rounded-full bg-zinc-900/50 flex items-center justify-center" data-v-b993f338>`),n(ssrRenderComponent(s,null,{},a)),n(`</div><div class="text-6xl font-black text-white mb-2" data-v-b993f338>${ssrInterpolate(e.error.statusCode)}</div></div><div class="mb-8" data-v-b993f338><h1 class="text-2xl md:text-3xl font-bold text-white mb-4" data-v-b993f338>${ssrInterpolate(o.value.title)}</h1><p class="text-zinc-300 text-lg mb-4" data-v-b993f338>${ssrInterpolate(o.value.description)}</p><p class="text-zinc-400" data-v-b993f338>${ssrInterpolate(o.value.action)}</p></div><div class="flex flex-wrap justify-center gap-4 mb-8" data-v-b993f338><button class="btn primary" data-v-b993f338>`),n(ssrRenderComponent(s,null,{},a)),n(' Retour à l&#39;accueil </button><button class="btn secondary" data-v-b993f338>'),n(ssrRenderComponent(s,null,{},a)),n(' Page précédente </button><button class="btn ghost" data-v-b993f338>'),n(ssrRenderComponent(s,null,{},a)),n(' Recharger </button></div><div class="border-t border-zinc-800 pt-8" data-v-b993f338><h2 class="text-lg font-semibold text-white mb-4" data-v-b993f338> Liens utiles </h2><div class="flex flex-wrap justify-center gap-6" data-v-b993f338>'),n(ssrRenderComponent(i,{to:"/catalogue",class:"text-zinc-400 hover:text-white transition-colors"},{default:withCtx((e,t,o,n)=>{if(!t)return [createTextVNode(" Catalogue ")];t(" Catalogue ");}),_:1},a)),n(ssrRenderComponent(i,{to:"/series",class:"text-zinc-400 hover:text-white transition-colors"},{default:withCtx((e,t,o,n)=>{if(!t)return [createTextVNode(" Séries ")];t(" Séries ");}),_:1},a)),n(ssrRenderComponent(i,{to:"/movies",class:"text-zinc-400 hover:text-white transition-colors"},{default:withCtx((e,t,o,n)=>{if(!t)return [createTextVNode(" Films ")];t(" Films ");}),_:1},a)),n(ssrRenderComponent(i,{to:"/others",class:"text-zinc-400 hover:text-white transition-colors"},{default:withCtx((e,t,o,n)=>{if(!t)return [createTextVNode(" Autres ")];t(" Autres ");}),_:1},a)),n("</div></div>"),unref(false)&&e.error.stack?n(`<details class="mt-8 text-left" data-v-b993f338><summary class="cursor-pointer text-zinc-400 hover:text-white mb-4" data-v-b993f338> Détails techniques (développement uniquement) </summary><div class="bg-zinc-900/50 border border-zinc-800 rounded-lg p-4" data-v-b993f338><h3 class="text-sm font-semibold text-white mb-2" data-v-b993f338>Message d&#39;erreur :</h3><p class="text-xs text-zinc-300 mb-4 font-mono" data-v-b993f338>${ssrInterpolate(e.error.message)}</p><h3 class="text-sm font-semibold text-white mb-2" data-v-b993f338>Stack trace :</h3><pre class="text-xs text-zinc-400 overflow-x-auto whitespace-pre-wrap font-mono" data-v-b993f338>${ssrInterpolate(e.error.stack)}</pre></div></details>`):n("\x3c!----\x3e"),n("</div></div>");}}}),Ct=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o},kt=_t.setup;_t.setup=(e,t)=>{const o=useSSRContext();return (o.modules||(o.modules=new Set)).add("error.vue"),kt?kt(e,t):void 0};const jt=Ct(_t,[["__scopeId","data-v-b993f338"]]),Rt={__name:"nuxt-root",__ssrInlineRender:true,setup(e){const t=()=>null,o=ke();o.deferHydration(),o.ssrContext.url;const n=false;provide(Pe,Ae()),o.hooks.callHookWith(e=>e.map(e=>e()),"vue:setup");const a=$e(),r=a.value&&!o.ssrContext.error;onErrorCaptured((e,t,n)=>{o.hooks.callHook("vue:error",e,t,n).catch(e=>console.error("[nuxt] Error in `vue:error` hook",e));{const t=o.runWithContext(()=>Ue(e));return onServerPrefetch(()=>t),false}});const s=o.ssrContext.islandContext;return (e,o,i,l)=>{ssrRenderSuspense(o,{default:()=>{unref(r)?o("<div></div>"):unref(a)?o(ssrRenderComponent(unref(jt),{error:unref(a)},null,i)):unref(s)?o(ssrRenderComponent(unref(t),{context:unref(s)},null,i)):unref(n)?ssrRenderVNode(o,createVNode(resolveDynamicComponent(unref(n)),null,null),i):o(ssrRenderComponent(unref(gt),null,null,i));},_:1});}}},zt=Rt.setup;let Pt;Rt.setup=(e,t)=>{const o=useSSRContext();return (o.modules||(o.modules=new Set)).add("node_modules/nuxt/dist/app/components/nuxt-root.vue"),zt?zt(e,t):void 0},Pt=async function(e){const t=createApp(Rt),s=function(e){let t=0;const s={_id:e.id||ye||"nuxt-app",_scope:effectScope(),provide:void 0,versions:{get nuxt(){return "4.1.2"},get vue(){return s.vueApp.version}},payload:shallowReactive({...e.ssrContext?.payload||{},data:shallowReactive({}),state:reactive({}),once:new Set,_errors:shallowReactive({})}),static:{data:{}},runWithContext:e=>s._scope.active&&!getCurrentScope()?s._scope.run(()=>Ce(s,e)):Ce(s,e),isHydrating:false,deferHydration(){if(!s.isHydrating)return ()=>{};t++;let e=false;return ()=>{if(!e)return e=true,t--,0===t?(s.isHydrating=false,s.callHook("app:suspense:resolve")):void 0}},_asyncDataPromises:{},_asyncData:shallowReactive({}),_payloadRevivers:{},...e};s.payload.serverRendered=true,s.ssrContext&&(s.payload.path=s.ssrContext.url,s.ssrContext.nuxt=s,s.ssrContext.payload=s.payload,s.ssrContext.config={public:s.ssrContext.runtimeConfig.public,app:s.ssrContext.runtimeConfig.app}),s.hooks=createHooks(),s.hook=s.hooks.hook;{const e=async function(e,t){for(const o of e)await s.runWithContext(()=>o(...t));};s.hooks.callHook=(t,...o)=>s.hooks.callHookWith(e,t,...o);}s.callHook=s.hooks.callHook,s.provide=(e,t)=>{const o="$"+e;Re(s,o,t),Re(s.vueApp.config.globalProperties,o,t);},Re(s.vueApp,"$nuxt",s),Re(s.vueApp.config.globalProperties,"$nuxt",s);const i=e.ssrContext.runtimeConfig;return s.provide("config",i),s}({vueApp:t,ssrContext:e});try{await async function(e,t){const o=new Set,n=[],a=[];let r,s=0;async function i(l){const u=l.dependsOn?.filter(e=>t.some(t=>t._name===e)&&!o.has(e))??[];if(u.length>0)n.push([new Set(u),l]);else {const t=async function(e,t){if("function"==typeof t){const{provide:o}=await e.runWithContext(()=>t(e))||{};if(o&&"object"==typeof o)for(const t in o)e.provide(t,o[t]);}}(e,l).then(async()=>{l._name&&(o.add(l._name),await Promise.all(n.map(async([e,t])=>{e.has(l._name)&&(e.delete(l._name),0===e.size&&(s++,await i(t)));})));}).catch(t=>{if(!l.parallel&&!e.payload.error)throw t;r||=t;});l.parallel?a.push(t):await t;}}for(const l of t)e.ssrContext?.islandContext&&!1===l.env?.islands||we(e,l);for(const l of t)e.ssrContext?.islandContext&&!1===l.env?.islands||await i(l);if(await Promise.all(a),s)for(let l=0;l<s;l++)await Promise.all(a);if(r)throw e.payload.error||r}(s,st),await s.hooks.callHook("app:created",t);}catch(i){await s.hooks.callHook("app:error",i),s.payload.error||=He(i);}if(e?._renderResponse)throw new Error("skipping render");return t};const St=e=>Pt(e);

export { bt as _, Se as a, Ct as b, lt as c, ke as d, St as default, je as e, ge as f, qe as g, He as h, rt as i, he as j, Oe as n, Ae as u };
//# sourceMappingURL=server.mjs.map
