import{d as e,r as a,b as s,a as l,f as r,t as u,B as o,m as t,C as i,D as m,p as n,v as c}from"#entry";import{u as d}from"./B4yXZ5uK.js";const _={class:"auth-form"},p={class:"auth-form__container"},v={class:"auth-form__header"},f={class:"auth-form__title"},h={class:"auth-form__subtitle"},b={class:"auth-form__field"},g={key:0,class:"auth-form__field"},w={class:"auth-form__field"},y={key:1,class:"auth-form__error"},S=["disabled"],k={key:0,class:"auth-form__loading"},j={key:1},q={class:"auth-form__toggle"},z=e({__name:"AuthForm",props:{initialMode:{default:"login"}},emits:["success"],setup(e,{emit:c}){const z=c,C=a("login"===e.initialMode),M=a({email:"",username:"",password:""}),{login:U,register:V,loading:x,error:A,clearError:B}=d(),D=async()=>{if(B(),C.value){const e=await U(M.value.email,M.value.password);e.success&&z("success",e.user)}else{const e=await V(M.value.email,M.value.username,M.value.password);e.success&&z("success",e.user)}},E=()=>{C.value=!C.value,M.value={email:"",username:"",password:""},B()};return(e,a)=>(l(),s("div",_,[r("div",p,[r("div",v,[r("h1",f,u(C.value?"Se connecter":"S'inscrire"),1),r("p",h,u(C.value?"Bienvenue sur Gazes":"Rejoignez la communauté Gazes"),1)]),r("form",{onSubmit:o(D,["prevent"]),class:"auth-form__form"},[r("div",b,[a[3]||(a[3]=r("label",{for:"email",class:"auth-form__label"},"Email",-1)),i(r("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>M.value.email=e),type:"email",class:"auth-form__input",placeholder:"votre@email.com",required:""},null,512),[[m,M.value.email]])]),C.value?t("",!0):(l(),s("div",g,[a[4]||(a[4]=r("label",{for:"username",class:"auth-form__label"},"Nom d'utilisateur",-1)),i(r("input",{id:"username","onUpdate:modelValue":a[1]||(a[1]=e=>M.value.username=e),type:"text",class:"auth-form__input",placeholder:"votre_nom",required:""},null,512),[[m,M.value.username]])])),r("div",w,[a[5]||(a[5]=r("label",{for:"password",class:"auth-form__label"},"Mot de passe",-1)),i(r("input",{id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>M.value.password=e),type:"password",class:"auth-form__input",placeholder:"••••••••",required:""},null,512),[[m,M.value.password]])]),n(A)?(l(),s("div",y,u(n(A)),1)):t("",!0),r("button",{type:"submit",disabled:n(x),class:"auth-form__submit"},[n(x)?(l(),s("span",k,"Chargement...")):(l(),s("span",j,u(C.value?"Se connecter":"S'inscrire"),1))],8,S)],32),r("div",q,[r("button",{onClick:E,class:"auth-form__toggle-btn"},u(C.value?"Pas de compte ? S'inscrire":"Déjà un compte ? Se connecter"),1)])])]))}}),C=Object.assign(c(z,[["__scopeId","data-v-d8860383"]]),{__name:"AuthForm"});export{C as _};
