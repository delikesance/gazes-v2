import{c as e,r as t,g as r}from"./BX6aoW9r.js";import n from"bcryptjs";import{createClient as o}from"@supabase/supabase-js";import{W as i,a8 as s}from"#entry";var a,u={},f={exports:{}},c={},l={};var p,h,y,d={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function g(){return h||(h=1,function(e){const t=function(){if(a)return l;a=1,l.byteLength=function(e){var t=i(e),r=t[0],n=t[1];return 3*(r+n)/4-n},l.toByteArray=function(e){var n,o,s=i(e),a=s[0],u=s[1],f=new r(function(e,t,r){return 3*(t+r)/4-r}(0,a,u)),c=0,l=u>0?a-4:a;for(o=0;o<l;o+=4)n=t[e.charCodeAt(o)]<<18|t[e.charCodeAt(o+1)]<<12|t[e.charCodeAt(o+2)]<<6|t[e.charCodeAt(o+3)],f[c++]=n>>16&255,f[c++]=n>>8&255,f[c++]=255&n;return 2===u&&(n=t[e.charCodeAt(o)]<<2|t[e.charCodeAt(o+1)]>>4,f[c++]=255&n),1===u&&(n=t[e.charCodeAt(o)]<<10|t[e.charCodeAt(o+1)]<<4|t[e.charCodeAt(o+2)]>>2,f[c++]=n>>8&255,f[c++]=255&n),f},l.fromByteArray=function(t){for(var r,n=t.length,o=n%3,i=[],s=16383,a=0,f=n-o;a<f;a+=s)i.push(u(t,a,a+s>f?f:a+s));return 1===o?(r=t[n-1],i.push(e[r>>2]+e[r<<4&63]+"==")):2===o&&(r=(t[n-2]<<8)+t[n-1],i.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),i.join("")};for(var e=[],t=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)e[o]=n[o],t[n.charCodeAt(o)]=o;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function s(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function u(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s(n));return o.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,l}(),r=(p||(p=1,d.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,f=u>>1,c=-7,l=r?o-1:0,p=r?-1:1,h=e[t+l];for(l+=p,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+e[t+l],l+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+l],l+=p,c-=8);if(0===i)i=1-f;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=f}return(h?-1:1)*s*Math.pow(2,i-n)},d.write=function(e,t,r,n,o,i){var s,a,u,f=8*i-o-1,c=(1<<f)-1,l=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,y=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=c?(a=0,s=c):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=y,a/=256,o-=8);for(s=s<<o|a,f+=o;f>0;e[r+h]=255&s,h+=y,s/=256,f-=8);e[r+h-y]|=128*d}),d),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=i(r);const o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);const o=function(e){if(s.isBuffer(e)){const t=0|g(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?i(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),i(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function g(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(o)return n?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function E(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return $(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,o){let i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(f(e,i)===f(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===u)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){let r=!0;for(let n=0;n<u;n++)if(f(e,i+n)!==f(t,n)){r=!1;break}if(r)return i}return-1}function v(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return J(K(t,e.length-r),e,r,n)}function I(e,t,r,n){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return J(X(t),e,r,n)}function R(e,t,r,n){return J(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function T(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(i=u));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(Y(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=s.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))o+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):E.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,o){if(Y(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const u=Math.min(i,a),f=this.slice(n,o),c=e.slice(t,r);for(let s=0;s<u;++s)if(f[s]!==c[s]){i=f[s],a=c[s];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return I(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function $(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function U(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=t;i<r;++i)o+=Q[e[i]];return o}function N(e,t,r){const n=e.slice(t,r);let o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,o){H(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function x(e,t,r,n,o){H(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function C(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,t,n,o,i){return t=+t,n>>>=0,i||C(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function M(e,t,n,o,i){return t=+t,n>>>=0,i||C(e,0,n,8),r.write(e,t,n,o,52,8),n+8}s.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=ee(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))}),s.prototype.readBigUInt64BE=ee(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=ee(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),s.prototype.readBigInt64BE=ee(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){_(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){_(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=ee(function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ee(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=ee(function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ee(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=s.isBuffer(e)?e:s.from(e,n),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%a]}return this};const F={};function G(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function H(e,t,r,n,o,i){if(e>r||e<t){const r="bigint"==typeof t?"n":"";let n;throw n=0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`,new F.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(n,o,i)}function W(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new F.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}G("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),G("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=V(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=V(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n},RangeError);const z=/[^+/0-9A-Za-z-_]/g;function K(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function X(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function ee(e){return"undefined"==typeof BigInt?te:e}function te(){throw new Error("BigInt not supported")}}(c)),c}
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function m(){return y||(y=1,function(e,t){var r=g(),n=r.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=i),i.prototype=Object.create(n.prototype),o(n,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(f,f.exports)),f.exports}var E,b,w,A,v,S,I,O,R,T,j,B,$,P,U,N,L,_,D,x,C,k,M,F,G,V,H,W,q,z,K,X,J,Y,Z,Q,ee,te,re,ne,oe,ie,se,ae,ue,fe,ce,le,pe,he,ye,de,ge,me,Ee,be,we,Ae,ve,Se,Ie,Oe,Re,Te,je,Be,$e,Pe,Ue,Ne,Le,_e,De,xe,Ce,ke,Me,Fe,Ge,Ve,He,We,qe,ze,Ke,Xe,Je,Ye,Ze={},Qe={};function et(){return b?E:(b=1,E=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0})}function tt(){if(A)return w;A=1;var e=et();return w=function(){return e()&&!!Symbol.toStringTag}}function rt(){return S?v:(S=1,v=Object)}function nt(){return O?I:(O=1,I=Error)}function ot(){return T?R:(T=1,R=EvalError)}function it(){return B?j:(B=1,j=RangeError)}function st(){return P?$:(P=1,$=ReferenceError)}function at(){return N?U:(N=1,U=SyntaxError)}function ut(){return _?L:(_=1,L=TypeError)}function ft(){return x?D:(x=1,D=URIError)}function ct(){return k?C:(k=1,C=Math.abs)}function lt(){return F?M:(F=1,M=Math.floor)}function pt(){return V?G:(V=1,G=Math.max)}function ht(){return W?H:(W=1,H=Math.min)}function yt(){return z?q:(z=1,q=Math.pow)}function dt(){return X?K:(X=1,K=Math.round)}function gt(){return Y?J:(Y=1,J=Number.isNaN||function(e){return e!=e})}function mt(){if(Q)return Z;Q=1;var e=gt();return Z=function(t){return e(t)||0===t?t:t<0?-1:1}}function Et(){return te?ee:(te=1,ee=Object.getOwnPropertyDescriptor)}function bt(){if(ne)return re;ne=1;var e=Et();if(e)try{e([],"length")}catch(t){e=null}return re=e}function wt(){if(ie)return oe;ie=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return oe=e}function At(){return fe?ue:(fe=1,ue="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function vt(){return le?ce:(le=1,ce=rt().getPrototypeOf||null)}function St(){if(de)return ye;de=1;var e=function(){if(he)return pe;he=1;var e=Object.prototype.toString,t=Math.max,r=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};return pe=function(n){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),a=t(0,o.length-s.length),u=[],f=0;f<a;f++)u[f]="$"+f;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var e=o.apply(this,r(s,arguments));return Object(e)===e?e:this}return o.apply(n,r(s,arguments))}),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i},pe}();return ye=Function.prototype.bind||e}function It(){return me?ge:(me=1,ge=Function.prototype.call)}function Ot(){return be?Ee:(be=1,Ee=Function.prototype.apply)}function Rt(){if(Se)return ve;Se=1;var e=St(),t=Ot(),r=It(),n=Ae?we:(Ae=1,we="undefined"!=typeof Reflect&&Reflect&&Reflect.apply);return ve=n||e.call(r,t)}function Tt(){if(Oe)return Ie;Oe=1;var e=St(),t=ut(),r=It(),n=Rt();return Ie=function(o){if(o.length<1||"function"!=typeof o[0])throw new t("a function is required");return n(e,r,o)}}function jt(){if(Te)return Re;Te=1;var e,t=Tt(),r=bt();try{e=[].__proto__===Array.prototype}catch(s){if(!s||"object"!=typeof s||!("code"in s)||"ERR_PROTO_ACCESS"!==s.code)throw s}var n=!!e&&r&&r(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return Re=n&&"function"==typeof n.get?t([n.get]):"function"==typeof i&&function(e){return i(null==e?e:o(e))}}function Bt(){if(Be)return je;Be=1;var e=At(),t=vt(),r=jt();return je=e?function(t){return e(t)}:t?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:r?function(e){return r(e)}:null}function $t(){if(Pe)return $e;Pe=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=St();return $e=r.call(e,t)}function Pt(){if(Ne)return Ue;var e;Ne=1;var t=rt(),r=nt(),n=ot(),o=it(),i=st(),s=at(),a=ut(),u=ft(),f=ct(),c=lt(),l=pt(),p=ht(),h=yt(),y=dt(),d=mt(),g=Function,m=function(e){try{return g('"use strict"; return ('+e+").constructor;")()}catch(t){}},E=bt(),b=wt(),w=function(){throw new a},A=E?function(){try{return w}catch(e){try{return E(arguments,"callee").get}catch(t){return w}}}():w,v=function(){if(ae)return se;ae=1;var e="undefined"!=typeof Symbol&&Symbol,t=et();return se=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()}}()(),S=Bt(),I=vt(),O=At(),R=Ot(),T=It(),j={},B="undefined"!=typeof Uint8Array&&S?S(Uint8Array):e,$={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":v&&S?S([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":"undefined"==typeof Atomics?e:Atomics,"%BigInt%":"undefined"==typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":"undefined"==typeof Float16Array?e:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":j,"%Int8Array%":"undefined"==typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&S?S(S([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":"undefined"==typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&v&&S?S((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?e:Promise,"%Proxy%":"undefined"==typeof Proxy?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&v&&S?S((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&S?S(""[Symbol.iterator]()):e,"%Symbol%":v?Symbol:e,"%SyntaxError%":s,"%ThrowTypeError%":A,"%TypedArray%":B,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?e:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?e:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":R,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":I,"%Math.abs%":f,"%Math.floor%":c,"%Math.max%":l,"%Math.min%":p,"%Math.pow%":h,"%Math.round%":y,"%Math.sign%":d,"%Reflect.getPrototypeOf%":O};if(S)try{null.error}catch(H){var P=S(S(H));$["%Error.prototype%"]=P}var U=function e(t){var r;if("%AsyncFunction%"===t)r=m("async function () {}");else if("%GeneratorFunction%"===t)r=m("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=m("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&S&&(r=S(o.prototype))}return $[t]=r,r},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=St(),_=$t(),D=L.call(T,Array.prototype.concat),x=L.call(R,Array.prototype.splice),C=L.call(T,String.prototype.replace),k=L.call(T,String.prototype.slice),M=L.call(T,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,V=function(e,t){var r,n=e;if(_(N,n)&&(n="%"+(r=N[n])[0]+"%"),_($,n)){var o=$[n];if(o===j&&(o=U(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new s("intrinsic "+e+" does not exist!")};return Ue=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return C(e,F,function(e,t,r,o){n[n.length]=r?C(o,G,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",o=V("%"+n+"%",t),i=o.name,u=o.value,f=!1,c=o.alias;c&&(n=c[0],x(r,D([0,1],c)));for(var l=1,p=!0;l<r.length;l+=1){var h=r[l],y=k(h,0,1),d=k(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===d||"'"===d||"`"===d)&&y!==d)throw new s("property names with quotes must have matching quotes");if("constructor"!==h&&p||(f=!0),_($,i="%"+(n+="."+h)+"%"))u=$[i];else if(null!=u){if(!(h in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(E&&l+1>=r.length){var g=E(u,h);u=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:u[h]}else p=_(u,h),u=u[h];p&&!f&&($[i]=u)}}return u},Ue}function Ut(){if(_e)return Le;_e=1;var e=Pt(),t=Tt(),r=t([e("%String.prototype.indexOf%")]);return Le=function(n,o){var i=e(n,!!o);return"function"==typeof i&&r(n,".prototype.")>-1?t([i]):i}}function Nt(){if(xe)return De;xe=1;var e=tt()(),t=Ut()("Object.prototype.toString"),r=function(r){return!(e&&r&&"object"==typeof r&&Symbol.toStringTag in r)&&"[object Arguments]"===t(r)},n=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==t(e)&&"callee"in e&&"[object Function]"===t(e.callee)},o=function(){return r(arguments)}();return r.isLegacyArguments=n,De=o?r:n}function Lt(){if(Fe)return Me;Fe=1;var e=Ut(),t=function(){if(ke)return Ce;ke=1;var e,t=Ut(),r=tt()(),n=$t(),o=bt();if(r){var i=t("RegExp.prototype.exec"),s={},a=function(){throw s},u={toString:a,valueOf:a};"symbol"==typeof Symbol.toPrimitive&&(u[Symbol.toPrimitive]=a),e=function(e){if(!e||"object"!=typeof e)return!1;var t=o(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{i(e,u)}catch(r){return r===s}}}else{var f=t("Object.prototype.toString");e=function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===f(e)}}return Ce=e}(),r=e("RegExp.prototype.exec"),n=ut();return Me=function(e){if(!t(e))throw new n("`regex` must be a RegExp");return function(t){return null!==r(e,t)}}}function _t(){if(Ve)return Ge;Ve=1;var e,t=Ut(),r=Lt()(/^\s*(?:function)?\*/),n=tt()(),o=Bt(),i=t("Object.prototype.toString"),s=t("Function.prototype.toString");return Ge=function(t){if("function"!=typeof t)return!1;if(r(s(t)))return!0;if(!n)return"[object GeneratorFunction]"===i(t);if(!o)return!1;if(void 0===e){var a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(e){}}();e=!!a&&o(a)}return o(t)===e}}function Dt(){if(ze)return qe;ze=1;var e=function(){if(We)return He;We=1;var e,t,r=Function.prototype.toString,n="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof n&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw t}}),t={},n(function(){throw 42},null,e)}catch(p){p!==t&&(n=null)}else n=null;var o=/^\s*class\b/,i=function(e){try{var t=r.call(e);return o.test(t)}catch(n){return!1}},s=function(e){try{return!i(e)&&(r.call(e),!0)}catch(t){return!1}},a=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),c=function(){return!1};if("object"==typeof document){var l=document.all;a.call(l)===a.call(document.all)&&(c=function(e){if((f||!e)&&(void 0===e||"object"==typeof e))try{var t=a.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}return He=n?function(r){if(c(r))return!0;if(!r)return!1;if("function"!=typeof r&&"object"!=typeof r)return!1;try{n(r,null,e)}catch(o){if(o!==t)return!1}return!i(r)&&s(r)}:function(e){if(c(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return s(e);if(i(e))return!1;var t=a.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}}(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty;return qe=function(n,o,i){if(!e(o))throw new TypeError("iterator must be a function");var s,a;arguments.length>=3&&(s=i),a=n,"[object Array]"===t.call(a)?function(e,t,n){for(var o=0,i=e.length;o<i;o++)r.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))}(n,o,s):"string"==typeof n?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(n,o,s):function(e,t,n){for(var o in e)r.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))}(n,o,s)},qe}function xt(){return Xe?Ke:(Xe=1,Ke=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"])}function Ct(){if(Ye)return Je;Ye=1;var t=xt(),r="undefined"==typeof globalThis?e:globalThis;return Je=function(){for(var e=[],n=0;n<t.length;n++)"function"==typeof r[t[n]]&&(e[e.length]=t[n]);return e}}var kt,Mt,Ft,Gt,Vt,Ht,Wt,qt,zt,Kt,Xt,Jt,Yt,Zt,Qt,er,tr={exports:{}};function rr(){if(Mt)return kt;Mt=1;var e=wt(),t=at(),r=ut(),n=bt();return kt=function(o,i,s){if(!o||"object"!=typeof o&&"function"!=typeof o)throw new r("`obj` must be an object or a function`");if("string"!=typeof i&&"symbol"!=typeof i)throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],l=!!n&&n(o,i);if(e)e(o,i,{configurable:null===f&&l?l.configurable:!f,enumerable:null===a&&l?l.enumerable:!a,value:s,writable:null===u&&l?l.writable:!u});else{if(!c&&(a||u||f))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");o[i]=s}},kt}function nr(){if(Gt)return Ft;Gt=1;var e=wt(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch(t){return!0}},Ft=t}function or(){if(Ht)return Vt;Ht=1;var e=Pt(),t=rr(),r=nr()(),n=bt(),o=ut(),i=e("%Math.floor%");return Vt=function(e,s){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof s||s<0||s>4294967295||i(s)!==s)throw new o("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in e&&n){var c=n(e,"length");c&&!c.configurable&&(u=!1),c&&!c.writable&&(f=!1)}return(u||f||!a)&&(r?t(e,"length",s,!0,!0):t(e,"length",s)),e},Vt}function ir(){return zt||(zt=1,e=tr,t=or(),r=wt(),n=Tt(),o=function(){if(qt)return Wt;qt=1;var e=St(),t=Ot(),r=Rt();return Wt=function(){return r(e,t,arguments)},Wt}(),e.exports=function(e){var r=n(arguments),o=e.length-(arguments.length-1);return t(r,1+(o>0?o:0),!0)},r?r(e.exports,"apply",{value:o}):e.exports.apply=o),tr.exports;var e,t,r,n,o}function sr(){if(Xt)return Kt;Xt=1;var t=Dt(),r=Ct(),n=ir(),o=Ut(),i=bt(),s=Bt(),a=o("Object.prototype.toString"),u=tt()(),f="undefined"==typeof globalThis?e:globalThis,c=r(),l=o("String.prototype.slice"),p=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},h={__proto__:null};t(c,u&&i&&s?function(e){var t=new f[e];if(Symbol.toStringTag in t&&s){var r=s(t),o=i(r,Symbol.toStringTag);if(!o&&r){var a=s(r);o=i(a,Symbol.toStringTag)}h["$"+e]=n(o.get)}}:function(e){var t=new f[e],r=t.slice||t.set;r&&(h["$"+e]=n(r))});return Kt=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var r=l(a(e),8,-1);return p(c,r)>-1?r:"Object"===r&&function(e){var r=!1;return t(h,function(t,n){if(!r)try{t(e),r=l(n,1)}catch(o){}}),r}(e)}return i?function(e){var r=!1;return t(h,function(t,n){if(!r)try{"$"+t(e)===n&&(r=l(n,1))}catch(o){}}),r}(e):null}}function ar(){if(Yt)return Jt;Yt=1;var e=sr();return Jt=function(t){return!!e(t)}}var ur,fr,cr,lr,pr,hr,yr,dr,gr,mr,Er,br,wr,Ar,vr,Sr,Ir,Or,Rr,Tr,jr,Br,$r,Pr,Ur,Nr,Lr,_r,Dr,xr,Cr,kr={exports:{}};function Mr(){return fr||(fr=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},n=/%[sdj%]/g;e.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var o=arguments,i=o.length,s=String(e).replace(n,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(t){return"[Circular]"}default:return e}}),u=o[r];r<i;u=o[++r])d(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var o={},i=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}function a(t,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,t,n.depth)}function u(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function f(e,t){return e}function c(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return m(o)||(o=c(t,o,n)),o}var i=function(e,t){if(E(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(t,r);if(i)return i;var s=Object.keys(r),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),v(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(A(r))return t.stylize(Date.prototype.toString.call(r),"date");if(v(r))return l(r)}var f,w="",I=!1,O=["{","}"];(h(r)&&(I=!0,O=["[","]"]),S(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),A(r)&&(w=" "+Date.prototype.toUTCString.call(r)),v(r)&&(w=" "+l(r)),0!==s.length||I&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),f=I?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)T(t,String(s))?i.push(p(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))}),i}(t,r,n,a,s):s.map(function(e){return p(t,r,n,a,e,I)}),t.seen.pop(),function(e,t,r){var n=e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(f,w,O)):O[0]+w+O[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),T(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=d(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),E(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function d(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function E(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===I(e)}function w(e){return"object"==typeof e&&null!==e}function A(e){return w(e)&&"[object Date]"===I(e)}function v(e){return w(e)&&("[object Error]"===I(e)||e instanceof Error)}function S(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!o[t])if(i.test(t)){var r=process.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=(Zt||(Zt=1,function(e){var t=Nt(),r=_t(),n=sr(),o=ar();function i(e){return e.call.bind(e)}var s="undefined"!=typeof BigInt,a="undefined"!=typeof Symbol,u=i(Object.prototype.toString),f=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),l=i(Boolean.prototype.valueOf);if(s)var p=i(BigInt.prototype.valueOf);if(a)var h=i(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(r){return!1}}function d(e){return"[object Map]"===u(e)}function g(e){return"[object Set]"===u(e)}function m(e){return"[object WeakMap]"===u(e)}function E(e){return"[object WeakSet]"===u(e)}function b(e){return"[object ArrayBuffer]"===u(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(b.working?b(e):e instanceof ArrayBuffer)}function A(e){return"[object DataView]"===u(e)}function v(e){return"undefined"!=typeof DataView&&(A.working?A(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o,e.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||v(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},d.working="undefined"!=typeof Map&&d(new Map),e.isMap=function(e){return"undefined"!=typeof Map&&(d.working?d(e):e instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),e.isSet=function(e){return"undefined"!=typeof Set&&(g.working?g(e):e instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),e.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(m.working?m(e):e instanceof WeakMap)},E.working="undefined"!=typeof WeakSet&&E(new WeakSet),e.isWeakSet=function(e){return E(e)},b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),e.isArrayBuffer=w,A.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&A(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=v;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===u(e)}function O(e){return void 0!==S&&(void 0===I.working&&(I.working=I(new S)),I.working?I(e):e instanceof S)}function R(e){return y(e,f)}function T(e){return y(e,c)}function j(e){return y(e,l)}function B(e){return s&&y(e,p)}function $(e){return a&&y(e,h)}e.isSharedArrayBuffer=O,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},e.isGeneratorObject=function(e){return"[object Generator]"===u(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},e.isNumberObject=R,e.isStringObject=T,e.isBooleanObject=j,e.isBigIntObject=B,e.isSymbolObject=$,e.isBoxedPrimitive=function(e){return R(e)||T(e)||j(e)||B(e)||$(e)},e.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||O(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})}(Qe)),Qe),e.isArray=h,e.isBoolean=y,e.isNull=d,e.isNullOrUndefined=function(e){return null==e},e.isNumber=g,e.isString=m,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=E,e.isRegExp=b,e.types.isRegExp=b,e.isObject=w,e.isDate=A,e.types.isDate=A,e.isError=v,e.types.isNativeError=v,e.isFunction=S,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=er?Qt:(er=1,Qt=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8});var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){var t,r;console.log("%s - %s",(r=[O((t=new Date).getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":"),[t.getDate(),R[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=(ur||(ur=1,"function"==typeof Object.create?kr.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:kr.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),kr.exports),e._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function B(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},e.promisify.custom=j,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){process.nextTick(i.bind(null,null,e))},function(e){process.nextTick(B.bind(null,e,i))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}}(Ze)),Ze}function Fr(){if(lr)return cr;lr=1;var e=m().Buffer,r=t;function n(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=e.alloc(0),this;if("function"==typeof t.pipe)return this.buffer=e.alloc(0),t.pipe(this),this;if(t.length||"object"==typeof t)return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}return Mr().inherits(n,r),n.prototype.write=function(t){this.buffer=e.concat([this.buffer,e.from(t)]),this.emit("data",t)},n.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},cr=n}function Gr(){if(dr)return yr;dr=1;var e=m().Buffer,t=function(){if(hr)return pr;function e(e){return(e/8|0)+(e%8==0?0:1)}hr=1;var t={ES256:e(256),ES384:e(384),ES512:e(521)};return pr=function(e){var r=t[e];if(r)return r;throw new Error('Unknown algorithm "'+e+'"')}}(),r=128;function n(t){if(e.isBuffer(t))return t;if("string"==typeof t)return e.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function o(e,t,n){for(var o=0;t+o<n&&0===e[t+o];)++o;return e[t+o]>=r&&--o,o}return yr={derToJose:function(r,o){r=n(r);var i=t(o),s=i+1,a=r.length,u=0;if(48!==r[u++])throw new Error('Could not find expected "seq"');var f=r[u++];if(129===f&&(f=r[u++]),a-u<f)throw new Error('"seq" specified length of "'+f+'", only "'+(a-u)+'" remaining');if(2!==r[u++])throw new Error('Could not find expected "int" for "r"');var c=r[u++];if(a-u-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(a-u-2)+'" available');if(s<c)throw new Error('"r" specified length of "'+c+'", max of "'+s+'" is acceptable');var l=u;if(u+=c,2!==r[u++])throw new Error('Could not find expected "int" for "s"');var p=r[u++];if(a-u!==p)throw new Error('"s" specified length of "'+p+'", expected "'+(a-u)+'"');if(s<p)throw new Error('"s" specified length of "'+p+'", max of "'+s+'" is acceptable');var h=u;if((u+=p)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-u)+'" bytes remain');var y=i-c,d=i-p,g=e.allocUnsafe(y+c+d+p);for(u=0;u<y;++u)g[u]=0;r.copy(g,u,l+Math.max(-y,0),l+c);for(var m=u=i;u<m+d;++u)g[u]=0;return r.copy(g,u,h+Math.max(-d,0),h+p),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(i,s){i=n(i);var a=t(s),u=i.length;if(u!==2*a)throw new TypeError('"'+s+'" signatures must be "'+2*a+'" bytes, saw "'+u+'"');var f=o(i,0,a),c=o(i,a,i.length),l=a-f,p=a-c,h=2+l+1+1+p,y=h<r,d=e.allocUnsafe((y?2:3)+h),g=0;return d[g++]=48,y?d[g++]=h:(d[g++]=129,d[g++]=255&h),d[g++]=2,d[g++]=l,f<0?(d[g++]=0,g+=i.copy(d,g,0,a)):g+=i.copy(d,g,f,a),d[g++]=2,d[g++]=p,c<0?(d[g++]=0,i.copy(d,g,a)):i.copy(d,g,a+c),d}}}function Vr(){if(br)return Er;br=1;var e,r=m().Buffer,n=t,o=Gr(),i=Mr(),s="secret must be a string or buffer",a="key must be a string or a buffer",u="function"==typeof n.createPublicKey;function f(e){if(!r.isBuffer(e)&&"string"!=typeof e){if(!u)throw h(a);if("object"!=typeof e)throw h(a);if("string"!=typeof e.type)throw h(a);if("string"!=typeof e.asymmetricKeyType)throw h(a);if("function"!=typeof e.export)throw h(a)}}function c(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw h("key must be a string, a buffer or an object")}function l(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function h(e){var t=[].slice.call(arguments,1),r=i.format.bind(i,e).apply(null,t);return new TypeError(r)}function y(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function d(e){return function(t,o){!function(e){if(!r.isBuffer(e)){if("string"==typeof e)return e;if(!u)throw h(s);if("object"!=typeof e)throw h(s);if("secret"!==e.type)throw h(s);if("function"!=typeof e.export)throw h(s)}}(o),t=y(t);var i=n.createHmac("sha"+e,o);return l((i.update(t),i.digest("base64")))}}u&&(a+=" or a KeyObject",s+="or a KeyObject");var E="timingSafeEqual"in n?function(e,t){return e.byteLength===t.byteLength&&n.timingSafeEqual(e,t)}:function(t,r){return e||(e=function(){if(mr)return gr;mr=1;var e=g().Buffer,t=g().SlowBuffer;function r(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))return!1;if(t.length!==r.length)return!1;for(var n=0,o=0;o<t.length;o++)n|=t[o]^r[o];return 0===n}gr=r,r.install=function(){e.prototype.equal=t.prototype.equal=function(e){return r(this,e)}};var n=e.prototype.equal,o=t.prototype.equal;return r.restore=function(){e.prototype.equal=n,t.prototype.equal=o},gr}()),e(t,r)};function b(e){return function(t,n,o){var i=d(e)(t,o);return E(r.from(n),r.from(i))}}function w(e){return function(t,r){c(r),t=y(t);var o=n.createSign("RSA-SHA"+e);return l((o.update(t),o.sign(r,"base64")))}}function A(e){return function(t,r,o){f(o),t=y(t),r=p(r);var i=n.createVerify("RSA-SHA"+e);return i.update(t),i.verify(o,r,"base64")}}function v(e){return function(t,r){c(r),t=y(t);var o=n.createSign("RSA-SHA"+e);return l((o.update(t),o.sign({key:r,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(e){return function(t,r,o){f(o),t=y(t),r=p(r);var i=n.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:o,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function I(e){var t=w(e);return function(){var r=t.apply(null,arguments);return r=o.derToJose(r,"ES"+e)}}function O(e){var t=A(e);return function(r,n,i){return n=o.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function R(){return function(){return""}}function T(){return function(e,t){return""===t}}return Er=function(e){var t={hs:d,rs:w,ps:v,es:I,none:R},r={hs:b,rs:A,ps:S,es:O,none:T},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw h('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}}function Hr(){if(Ar)return wr;Ar=1;var e=g().Buffer;return wr=function(t){return"string"==typeof t?t:"number"==typeof t||e.isBuffer(t)?t.toString():JSON.stringify(t)}}function Wr(){if(Sr)return vr;Sr=1;var e=m().Buffer,r=Fr(),n=Vr(),o=t,i=Hr(),s=Mr();function a(t,r){return e.from(t,r).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t=e.header,r=e.payload,o=e.secret||e.privateKey,u=e.encoding,f=n(t.alg),c=function(e,t,r){r=r||"utf8";var n=a(i(e),"binary"),o=a(i(t),r);return s.format("%s.%s",n,o)}(t,r,u),l=f.sign(c,o);return s.format("%s.%s",c,l)}function f(e){var t=e.secret||e.privateKey||e.key,n=new r(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=n,this.payload=new r(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return s.inherits(f,o),f.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},f.sign=u,vr=f}function qr(){if(Or)return Ir;Or=1;var e=m().Buffer,r=Fr(),n=Vr(),o=t,i=Hr(),s=Mr(),a=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(t){return}}function f(t){var r=t.split(".",1)[0];return u(e.from(r,"base64").toString("binary"))}function c(e){return e.split(".")[2]}function l(e){return a.test(e)&&!!f(e)}function p(e,t,r){if(!t){var o=new Error("Missing algorithm parameter for jws.verify");throw o.code="MISSING_ALGORITHM",o}var s=c(e=i(e)),a=function(e){return e.split(".",2).join(".")}(e);return n(t).verify(a,s,r)}function h(t,r){if(r=r||{},!l(t=i(t)))return null;var n=f(t);if(!n)return null;var o=function(t,r){r=r||"utf8";var n=t.split(".")[1];return e.from(n,"base64").toString(r)}(t);return("JWT"===n.typ||r.json)&&(o=JSON.parse(o,r.encoding)),{header:n,payload:o,signature:c(t)}}function y(e){var t=(e=e||{}).secret||e.publicKey||e.key,n=new r(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=n,this.signature=new r(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return s.inherits(y,o),y.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=h(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},y.decode=h,y.isValid=l,y.verify=p,Ir=y}function zr(){if(Rr)return u;Rr=1;var e=Wr(),t=qr();return u.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],u.sign=e.sign,u.verify=t.verify,u.decode=t.decode,u.isValid=t.isValid,u.createSign=function(t){return new e(t)},u.createVerify=function(e){return new t(e)},u}function Kr(){if(jr)return Tr;jr=1;var e=zr();return Tr=function(t,r){r=r||{};var n=e.decode(t,r);if(!n)return null;var o=n.payload;if("string"==typeof o)try{var i=JSON.parse(o);null!==i&&"object"==typeof i&&(o=i)}catch(s){}return!0===r.complete?{header:n.header,payload:o,signature:n.signature}:o}}function Xr(){if($r)return Br;$r=1;var e=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};return(e.prototype=Object.create(Error.prototype)).constructor=e,Br=e}function Jr(){if(Ur)return Pr;Ur=1;var e=Xr(),t=function(t,r){e.call(this,t),this.name="NotBeforeError",this.date=r};return(t.prototype=Object.create(e.prototype)).constructor=t,Pr=t}function Yr(){if(Lr)return Nr;Lr=1;var e=Xr(),t=function(t,r){e.call(this,t),this.name="TokenExpiredError",this.expiredAt=r};return(t.prototype=Object.create(e.prototype)).constructor=t,Nr=t}function Zr(){if(Dr)return _r;Dr=1;var e=1e3,t=60*e,r=60*t,n=24*r,o=7*n,i=365.25*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}return _r=function(a,u){u=u||{};var f=typeof a;if("string"===f&&a.length>0)return function(s){if((s=String(s)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!a)return;var u=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*i;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*t;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(a);if("number"===f&&isFinite(a))return u.long?function(o){var i=Math.abs(o);if(i>=n)return s(o,i,n,"day");if(i>=r)return s(o,i,r,"hour");if(i>=t)return s(o,i,t,"minute");if(i>=e)return s(o,i,e,"second");return o+" ms"}(a):function(o){var i=Math.abs(o);if(i>=n)return Math.round(o/n)+"d";if(i>=r)return Math.round(o/r)+"h";if(i>=t)return Math.round(o/t)+"m";if(i>=e)return Math.round(o/e)+"s";return o+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}function Qr(){if(Cr)return xr;Cr=1;var e=Zr();return xr=function(t,r){var n=r||Math.floor(Date.now()/1e3);if("string"==typeof t){var o=e(t);if(void 0===o)return;return Math.floor(n+o/1e3)}return"number"==typeof t?n+t:void 0}}var en,tn,rn,nn,on,sn,an,un,fn,cn,ln,pn,hn,yn,dn,gn,mn,En,bn,wn,An,vn,Sn,In,On,Rn,Tn,jn,Bn,$n,Pn,Un,Nn,Ln,_n,Dn,xn,Cn,kn,Mn,Fn,Gn,Vn,Hn,Wn,qn,zn,Kn,Xn,Jn,Yn,Zn,Qn,eo,to,ro,no,oo,io,so,ao,uo,fo,co,lo,po,ho,yo,go,mo,Eo,bo,wo,Ao,vo,So,Io,Oo,Ro,To,jo,Bo,$o,Po,Uo,No,Lo,_o,Do,xo,Co,ko,Mo,Fo,Go,Vo,Ho,Wo,qo,zo,Ko,Xo,Jo,Yo,Zo,Qo,ei,ti,ri,ni,oi,ii,si,ai,ui,fi,ci,li={exports:{}};function pi(){if(tn)return en;tn=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return en={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}function hi(){if(nn)return rn;nn=1;var e={};const t="object"==typeof process&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return rn=t}function yi(){return on||(on=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=pi(),i=hi(),s=(t=e.exports={}).re=[],a=t.safeRe=[],u=t.src=[],f=t.safeSrc=[],c=t.t={};let l=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[p,n]],y=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=l++;i(e,o,t),c[e]=o,u[o]=t,f[o]=n,s[o]=new RegExp(t,r?"g":void 0),a[o]=new RegExp(n,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),y("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${p}+`),y("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),y("FULL",`^${u[c.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),y("LOOSE",`^${u[c.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),y("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?(?:${u[c.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",u[c.COERCE],!0),y("COERCERTLFULL",u[c.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(li,li.exports)),li.exports}function di(){if(an)return sn;an=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return sn=r=>r?"object"!=typeof r?e:r:t}function gi(){if(fn)return un;fn=1;const e=/^[0-9]+$/,t=(t,r)=>{const n=e.test(t),o=e.test(r);return n&&o&&(t=+t,r=+r),t===r?0:n&&!o?-1:o&&!n?1:t<r?-1:1};return un={compareIdentifiers:t,rcompareIdentifiers:(e,r)=>t(r,e)}}function mi(){if(ln)return cn;ln=1;const e=hi(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=pi(),{safeRe:n,t:o}=yi(),i=di(),{compareIdentifiers:s}=gi();class a{constructor(s,u){if(u=i(u),s instanceof a){if(s.loose===!!u.loose&&s.includePrerelease===!!u.includePrerelease)return s;s=s.version}else if("string"!=typeof s)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof s}".`);if(s.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",s,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const f=s.trim().match(u.loose?n[o.LOOSE]:n[o.FULL]);if(!f)throw new TypeError(`Invalid Version: ${s}`);if(this.raw=s,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<r)return t}return e}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(e("SemVer.compare",this.version,this.options,t),!(t instanceof a)){if("string"==typeof t&&t===this.version)return 0;t=new a(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){return e instanceof a||(e=new a(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(t){if(t instanceof a||(t=new a(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],o=t.prerelease[r];if(e("prerelease compare",r,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++r)}compareBuild(t){t instanceof a||(t=new a(t,this.options));let r=0;do{const n=this.build[r],o=t.build[r];if(e("build compare",r,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++r)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?n[o.PRERELEASELOOSE]:n[o.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return cn=a}function Ei(){if(hn)return pn;hn=1;const e=mi();return pn=(t,r,n=!1)=>{if(t instanceof e)return t;try{return new e(t,r)}catch(o){if(!n)return null;throw o}}}function bi(){if(Pn)return $n;Pn=1;const e=mi();return $n=(t,r,n)=>new e(t,n).compare(new e(r,n))}function wi(){if(xn)return Dn;xn=1;const e=mi();return Dn=(t,r,n)=>{const o=new e(t,n),i=new e(r,n);return o.compare(i)||o.compareBuild(i)}}function Ai(){if(Vn)return Gn;Vn=1;const e=bi();return Gn=(t,r,n)=>e(t,r,n)>0}function vi(){if(Wn)return Hn;Wn=1;const e=bi();return Hn=(t,r,n)=>e(t,r,n)<0}function Si(){if(zn)return qn;zn=1;const e=bi();return qn=(t,r,n)=>0===e(t,r,n)}function Ii(){if(Xn)return Kn;Xn=1;const e=bi();return Kn=(t,r,n)=>0!==e(t,r,n)}function Oi(){if(Yn)return Jn;Yn=1;const e=bi();return Jn=(t,r,n)=>e(t,r,n)>=0}function Ri(){if(Qn)return Zn;Qn=1;const e=bi();return Zn=(t,r,n)=>e(t,r,n)<=0}function Ti(){if(to)return eo;to=1;const e=Si(),t=Ii(),r=Ai(),n=Oi(),o=vi(),i=Ri();return eo=(s,a,u,f)=>{switch(a){case"===":return"object"==typeof s&&(s=s.version),"object"==typeof u&&(u=u.version),s===u;case"!==":return"object"==typeof s&&(s=s.version),"object"==typeof u&&(u=u.version),s!==u;case"":case"=":case"==":return e(s,u,f);case"!=":return t(s,u,f);case">":return r(s,u,f);case">=":return n(s,u,f);case"<":return o(s,u,f);case"<=":return i(s,u,f);default:throw new TypeError(`Invalid operator: ${a}`)}}}function ji(){if(ao)return so;ao=1;const e=/\s+/g;class t{constructor(r,i){if(i=n(i),r instanceof t)return r.loose===!!i.loose&&r.includePrerelease===!!i.includePrerelease?r:new t(r.raw,i);if(r instanceof o)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=r.trim().replace(e," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&d(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&p)|(this.options.loose&&h))+":"+e,n=r.get(t);if(n)return n;const s=this.options.loose,d=s?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];e=e.replace(d,T(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[u.COMPARATORTRIM],f),i("comparator trim",e),e=e.replace(a[u.TILDETRIM],c),i("tilde trim",e),e=e.replace(a[u.CARETTRIM],l),i("caret trim",e);let g=e.split(" ").map(e=>m(e,this.options)).join(" ").split(/\s+/).map(e=>R(e,this.options));s&&(g=g.filter(e=>(i("loose invalid filter",e,this.options),!!e.match(a[u.COMPARATORLOOSE])))),i("range list",g);const E=new Map,b=g.map(e=>new o(e,this.options));for(const r of b){if(y(r))return[r];E.set(r.value,r)}E.size>1&&E.has("")&&E.delete("");const w=[...E.values()];return r.set(t,w),w}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(t=>g(t,r)&&e.set.some(e=>g(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(t){return!1}for(let r=0;r<this.set.length;r++)if(j(this.set[r],e,this.options))return!0;return!1}}so=t;const r=new(io?oo:(io=1,oo=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}})),n=di(),o=Bi(),i=hi(),s=mi(),{safeRe:a,t:u,comparatorTrimReplace:f,tildeTrimReplace:c,caretTrimReplace:l}=yi(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:h}=pi(),y=e=>"<0.0.0-0"===e.value,d=e=>""===e.value,g=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every(e=>o.intersects(e,t)),o=n.pop();return r},m=(e,t)=>(i("comp",e,t),e=A(e,t),i("caret",e),e=b(e,t),i("tildes",e),e=S(e,t),i("xrange",e),e=O(e,t),i("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(e,t)=>{const r=t.loose?a[u.TILDELOOSE]:a[u.TILDE];return e.replace(r,(t,r,n,o,s)=>{let a;return i("tilde",e,t,r,n,o,s),E(r)?a="":E(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:E(o)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(i("replaceTilde pr",s),a=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,i("tilde return",a),a})},A=(e,t)=>e.trim().split(/\s+/).map(e=>v(e,t)).join(" "),v=(e,t)=>{i("caret",e,t);const r=t.loose?a[u.CARETLOOSE]:a[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,o,s,a)=>{let u;return i("caret",e,t,r,o,s,a),E(r)?u="":E(o)?u=`>=${r}.0.0${n} <${+r+1}.0.0-0`:E(s)?u="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:a?(i("replaceCaret pr",a),u="0"===r?"0"===o?`>=${r}.${o}.${s}-${a} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${a} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${a} <${+r+1}.0.0-0`):(i("no pr"),u="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),i("caret return",u),u})},S=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map(e=>I(e,t)).join(" ")),I=(e,t)=>{e=e.trim();const r=t.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return e.replace(r,(r,n,o,s,a,u)=>{i("xRange",e,r,n,o,s,a,u);const f=E(o),c=f||E(s),l=c||E(a),p=l;return"="===n&&p&&(n=""),u=t.includePrerelease?"-0":"",f?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(c&&(s=0),a=0,">"===n?(n=">=",c?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",c?o=+o+1:s=+s+1),"<"===n&&(u="-0"),r=`${n+o}.${s}.${a}${u}`):c?r=`>=${o}.0.0${u} <${+o+1}.0.0-0`:l&&(r=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),i("xRange return",r),r})},O=(e,t)=>(i("replaceStars",e,t),e.trim().replace(a[u.STAR],"")),R=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),T=e=>(t,r,n,o,i,s,a,u,f,c,l,p)=>`${r=E(n)?"":E(o)?`>=${n}.0.0${e?"-0":""}`:E(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${u=E(f)?"":E(c)?`<${+f+1}.0.0-0`:E(l)?`<${f}.${+c+1}.0-0`:p?`<=${f}.${c}.${l}-${p}`:e?`<${f}.${c}.${+l+1}-0`:`<=${u}`}`.trim(),j=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(i(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return so}function Bi(){if(fo)return uo;fo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(n,o){if(o=r(o),n instanceof t){if(n.loose===!!o.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,o),this.options=o,this.loose=!!o.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(t){const r=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],i=t.match(r);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new a(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(s("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch(r){return!1}return i(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,n).test(this.value):""===e.operator?""===e.value||new u(this.value,n).test(e.semver):(!(n=r(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}uo=t;const r=di(),{safeRe:n,t:o}=yi(),i=Ti(),s=hi(),a=mi(),u=ji();return uo}function $i(){if(lo)return co;lo=1;const e=ji();return co=(t,r,n)=>{try{r=new e(r,n)}catch(o){return!1}return r.test(t)}}function Pi(){if(Io)return So;Io=1;const e=mi(),t=Bi(),{ANY:r}=t,n=ji(),o=$i(),i=Ai(),s=vi(),a=Ri(),u=Oi();return So=(f,c,l,p)=>{let h,y,d,g,m;switch(f=new e(f,p),c=new n(c,p),l){case">":h=i,y=a,d=s,g=">",m=">=";break;case"<":h=s,y=u,d=i,g="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(f,c,p))return!1;for(let e=0;e<c.set.length;++e){const n=c.set[e];let o=null,i=null;if(n.forEach(e=>{e.semver===r&&(e=new t(">=0.0.0")),o=o||e,i=i||e,h(e.semver,o.semver,p)?o=e:d(e.semver,i.semver,p)&&(i=e)}),o.operator===g||o.operator===m)return!1;if((!i.operator||i.operator===g)&&y(f,i.semver))return!1;if(i.operator===m&&d(f,i.semver))return!1}return!0}}function Ui(){if(Do)return _o;Do=1;const e=yi(),t=pi(),r=mi(),n=gi(),o=Ei(),i=function(){if(dn)return yn;dn=1;const e=Ei();return yn=(t,r)=>{const n=e(t,r);return n?n.version:null}}(),s=function(){if(mn)return gn;mn=1;const e=Ei();return gn=(t,r)=>{const n=e(t.trim().replace(/^[=v]+/,""),r);return n?n.version:null}}(),a=function(){if(bn)return En;bn=1;const e=mi();return En=(t,r,n,o,i)=>{"string"==typeof n&&(i=o,o=n,n=void 0);try{return new e(t instanceof e?t.version:t,n).inc(r,o,i).version}catch(s){return null}}}(),u=function(){if(An)return wn;An=1;const e=Ei();return wn=(t,r)=>{const n=e(t,null,!0),o=e(r,null,!0),i=n.compare(o);if(0===i)return null;const s=i>0,a=s?n:o,u=s?o:n,f=!!a.prerelease.length;if(u.prerelease.length&&!f){if(!u.patch&&!u.minor)return"major";if(0===u.compareMain(a))return u.minor&&!u.patch?"minor":"patch"}const c=f?"pre":"";return n.major!==o.major?c+"major":n.minor!==o.minor?c+"minor":n.patch!==o.patch?c+"patch":"prerelease"}}(),f=function(){if(Sn)return vn;Sn=1;const e=mi();return vn=(t,r)=>new e(t,r).major}(),c=function(){if(On)return In;On=1;const e=mi();return In=(t,r)=>new e(t,r).minor}(),l=function(){if(Tn)return Rn;Tn=1;const e=mi();return Rn=(t,r)=>new e(t,r).patch}(),p=function(){if(Bn)return jn;Bn=1;const e=Ei();return jn=(t,r)=>{const n=e(t,r);return n&&n.prerelease.length?n.prerelease:null}}(),h=bi(),y=function(){if(Nn)return Un;Nn=1;const e=bi();return Un=(t,r,n)=>e(r,t,n)}(),d=function(){if(_n)return Ln;_n=1;const e=bi();return Ln=(t,r)=>e(t,r,!0)}(),g=wi(),m=function(){if(kn)return Cn;kn=1;const e=wi();return Cn=(t,r)=>t.sort((t,n)=>e(t,n,r))}(),E=function(){if(Fn)return Mn;Fn=1;const e=wi();return Mn=(t,r)=>t.sort((t,n)=>e(n,t,r))}(),b=Ai(),w=vi(),A=Si(),v=Ii(),S=Oi(),I=Ri(),O=Ti(),R=function(){if(no)return ro;no=1;const e=mi(),t=Ei(),{safeRe:r,t:n}=yi();return ro=(o,i)=>{if(o instanceof e)return o;if("number"==typeof o&&(o=String(o)),"string"!=typeof o)return null;let s=null;if((i=i||{}).rtl){const e=i.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let t;for(;(t=e.exec(o))&&(!s||s.index+s[0].length!==o.length);)s&&t.index+t[0].length===s.index+s[0].length||(s=t),e.lastIndex=t.index+t[1].length+t[2].length;e.lastIndex=-1}else s=o.match(i.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);if(null===s)return null;const a=s[2],u=s[3]||"0",f=s[4]||"0",c=i.includePrerelease&&s[5]?`-${s[5]}`:"",l=i.includePrerelease&&s[6]?`+${s[6]}`:"";return t(`${a}.${u}.${f}${c}${l}`,i)}}(),T=Bi(),j=ji(),B=$i(),$=function(){if(ho)return po;ho=1;const e=ji();return po=(t,r)=>new e(t,r).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))}(),P=function(){if(go)return yo;go=1;const e=mi(),t=ji();return yo=(r,n,o)=>{let i=null,s=null,a=null;try{a=new t(n,o)}catch(u){return null}return r.forEach(t=>{a.test(t)&&(i&&-1!==s.compare(t)||(i=t,s=new e(i,o)))}),i}}(),U=function(){if(Eo)return mo;Eo=1;const e=mi(),t=ji();return mo=(r,n,o)=>{let i=null,s=null,a=null;try{a=new t(n,o)}catch(u){return null}return r.forEach(t=>{a.test(t)&&(i&&1!==s.compare(t)||(i=t,s=new e(i,o)))}),i}}(),N=function(){if(wo)return bo;wo=1;const e=mi(),t=ji(),r=Ai();return bo=(n,o)=>{n=new t(n,o);let i=new e("0.0.0");if(n.test(i))return i;if(i=new e("0.0.0-0"),n.test(i))return i;i=null;for(let t=0;t<n.set.length;++t){const o=n.set[t];let s=null;o.forEach(t=>{const n=new e(t.semver.version);switch(t.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":s&&!r(n,s)||(s=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}),!s||i&&!r(i,s)||(i=s)}return i&&n.test(i)?i:null}}(),L=function(){if(vo)return Ao;vo=1;const e=ji();return Ao=(t,r)=>{try{return new e(t,r).range||"*"}catch(n){return null}}}(),_=Pi(),D=function(){if(Ro)return Oo;Ro=1;const e=Pi();return Oo=(t,r,n)=>e(t,r,">",n)}(),x=function(){if(jo)return To;jo=1;const e=Pi();return To=(t,r,n)=>e(t,r,"<",n)}(),C=function(){if($o)return Bo;$o=1;const e=ji();return Bo=(t,r,n)=>(t=new e(t,n),r=new e(r,n),t.intersects(r,n))}(),k=function(){if(Uo)return Po;Uo=1;const e=$i(),t=bi();return Po=(r,n,o)=>{const i=[];let s=null,a=null;const u=r.sort((e,r)=>t(e,r,o));for(const t of u)e(t,n,o)?(a=t,s||(s=t)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const f=[];for(const[e,t]of i)e===t?f.push(e):t||e!==u[0]?t?e===u[0]?f.push(`<=${t}`):f.push(`${e} - ${t}`):f.push(`>=${e}`):f.push("*");const c=f.join(" || "),l="string"==typeof n.raw?n.raw:String(n);return c.length<l.length?c:n}}(),M=function(){if(Lo)return No;Lo=1;const e=ji(),t=Bi(),{ANY:r}=t,n=$i(),o=bi(),i=[new t(">=0.0.0-0")],s=[new t(">=0.0.0")],a=(e,t,a)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===r){if(1===t.length&&t[0].semver===r)return!0;e=a.includePrerelease?i:s}if(1===t.length&&t[0].semver===r){if(a.includePrerelease)return!0;t=s}const c=new Set;let l,p,h,y,d,g,m;for(const r of e)">"===r.operator||">="===r.operator?l=u(l,r,a):"<"===r.operator||"<="===r.operator?p=f(p,r,a):c.add(r.semver);if(c.size>1)return null;if(l&&p){if(h=o(l.semver,p.semver,a),h>0)return null;if(0===h&&(">="!==l.operator||"<="!==p.operator))return null}for(const r of c){if(l&&!n(r,String(l),a))return null;if(p&&!n(r,String(p),a))return null;for(const e of t)if(!n(r,String(e),a))return!1;return!0}let E=!(!p||a.includePrerelease||!p.semver.prerelease.length)&&p.semver,b=!(!l||a.includePrerelease||!l.semver.prerelease.length)&&l.semver;E&&1===E.prerelease.length&&"<"===p.operator&&0===E.prerelease[0]&&(E=!1);for(const r of t){if(m=m||">"===r.operator||">="===r.operator,g=g||"<"===r.operator||"<="===r.operator,l)if(b&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===b.major&&r.semver.minor===b.minor&&r.semver.patch===b.patch&&(b=!1),">"===r.operator||">="===r.operator){if(y=u(l,r,a),y===r&&y!==l)return!1}else if(">="===l.operator&&!n(l.semver,String(r),a))return!1;if(p)if(E&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===E.major&&r.semver.minor===E.minor&&r.semver.patch===E.patch&&(E=!1),"<"===r.operator||"<="===r.operator){if(d=f(p,r,a),d===r&&d!==p)return!1}else if("<="===p.operator&&!n(p.semver,String(r),a))return!1;if(!r.operator&&(p||l)&&0!==h)return!1}return!(l&&g&&!p&&0!==h||p&&m&&!l&&0!==h||b||E)},u=(e,t,r)=>{if(!e)return t;const n=o(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;const n=o(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};return No=(t,r,n={})=>{if(t===r)return!0;t=new e(t,n),r=new e(r,n);let o=!1;e:for(const e of t.set){for(const t of r.set){const r=a(e,t,n);if(o=o||null!==r,r)continue e}if(o)return!1}return!0}}();return _o={parse:o,valid:i,clean:s,inc:a,diff:u,major:f,minor:c,patch:l,prerelease:p,compare:h,rcompare:y,compareLoose:d,compareBuild:g,sort:m,rsort:E,gt:b,lt:w,eq:A,neq:v,gte:S,lte:I,cmp:O,coerce:R,Comparator:T,Range:j,satisfies:B,toComparators:$,maxSatisfying:P,minSatisfying:U,minVersion:N,validRange:L,outside:_,gtr:D,ltr:x,intersects:C,simplifyRange:k,subset:M,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}function Ni(){if(Go)return Fo;Go=1;const e=function(){if(Co)return xo;Co=1;const e=Ui();return xo=e.satisfies(process.version,">=15.7.0")}(),t=function(){if(Mo)return ko;Mo=1;const e=Ui();return ko=e.satisfies(process.version,">=16.9.0")}(),r={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},n={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Fo=function(o,i){if(!o||!i)return;const s=i.asymmetricKeyType;if(!s)return;const a=r[s];if(!a)throw new Error(`Unknown key type "${s}".`);if(!a.includes(o))throw new Error(`"alg" parameter for "${s}" key type must be one of: ${a.join(", ")}.`);if(e)switch(s){case"ec":const e=i.asymmetricKeyDetails.namedCurve,r=n[o];if(e!==r)throw new Error(`"alg" parameter "${o}" requires curve "${r}".`);break;case"rsa-pss":if(t){const e=parseInt(o.slice(-3),10),{hashAlgorithm:t,mgf1HashAlgorithm:r,saltLength:n}=i.asymmetricKeyDetails;if(t!==`sha${e}`||r!==t)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${o}.`);if(void 0!==n&&n>e>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${o}.`)}}}}function Li(){if(Ho)return Vo;Ho=1;var e=Ui();return Vo=e.satisfies(process.version,"^6.12.0 || >=8.0.0")}function _i(){if(qo)return Wo;qo=1;const e=Xr(),r=Jr(),n=Yr(),o=Kr(),i=Qr(),s=Ni(),a=Li(),u=zr(),{KeyObject:f,createSecretKey:c,createPublicKey:l}=t,p=["RS256","RS384","RS512"],h=["ES256","ES384","ES512"],y=["RS256","RS384","RS512"],d=["HS256","HS384","HS512"];return a&&(p.splice(p.length,0,"PS256","PS384","PS512"),y.splice(y.length,0,"PS256","PS384","PS512")),Wo=function(t,a,g,m){let E;if("function"!=typeof g||m||(m=g,g={}),g||(g={}),g=Object.assign({},g),E=m||function(e,t){if(e)throw e;return t},g.clockTimestamp&&"number"!=typeof g.clockTimestamp)return E(new e("clockTimestamp must be a number"));if(void 0!==g.nonce&&("string"!=typeof g.nonce||""===g.nonce.trim()))return E(new e("nonce must be a non-empty string"));if(void 0!==g.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof g.allowInvalidAsymmetricKeyTypes)return E(new e("allowInvalidAsymmetricKeyTypes must be a boolean"));const b=g.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return E(new e("jwt must be provided"));if("string"!=typeof t)return E(new e("jwt must be a string"));const w=t.split(".");if(3!==w.length)return E(new e("jwt malformed"));let A;try{A=o(t,{complete:!0})}catch(I){return E(I)}if(!A)return E(new e("invalid token"));const v=A.header;let S;if("function"==typeof a){if(!m)return E(new e("verify must be called asynchronous if secret or public key is provided as a callback"));S=a}else S=function(e,t){return t(null,a)};return S(v,function(o,a){if(o)return E(new e("error in secret or public key callback: "+o.message));const m=""!==w[2].trim();if(!m&&a)return E(new e("jwt signature is required"));if(m&&!a)return E(new e("secret or public key must be provided"));if(!m&&!g.algorithms)return E(new e('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof f))try{a=l(a)}catch(O){try{a=c("string"==typeof a?Buffer.from(a):a)}catch(R){return E(new e("secretOrPublicKey is not valid key material"))}}if(g.algorithms||("secret"===a.type?g.algorithms=d:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?g.algorithms=y:"ec"===a.asymmetricKeyType?g.algorithms=h:g.algorithms=p),-1===g.algorithms.indexOf(A.header.alg))return E(new e("invalid algorithm"));if(v.alg.startsWith("HS")&&"secret"!==a.type)return E(new e(`secretOrPublicKey must be a symmetric key when using ${v.alg}`));if(/^(?:RS|PS|ES)/.test(v.alg)&&"public"!==a.type)return E(new e(`secretOrPublicKey must be an asymmetric key when using ${v.alg}`));if(!g.allowInvalidAsymmetricKeyTypes)try{s(v.alg,a)}catch(T){return E(T)}let S;try{S=u.verify(t,A.header.alg,a)}catch(T){return E(T)}if(!S)return E(new e("invalid signature"));const I=A.payload;if(void 0!==I.nbf&&!g.ignoreNotBefore){if("number"!=typeof I.nbf)return E(new e("invalid nbf value"));if(I.nbf>b+(g.clockTolerance||0))return E(new r("jwt not active",new Date(1e3*I.nbf)))}if(void 0!==I.exp&&!g.ignoreExpiration){if("number"!=typeof I.exp)return E(new e("invalid exp value"));if(b>=I.exp+(g.clockTolerance||0))return E(new n("jwt expired",new Date(1e3*I.exp)))}if(g.audience){const t=Array.isArray(g.audience)?g.audience:[g.audience];if(!(Array.isArray(I.aud)?I.aud:[I.aud]).some(function(e){return t.some(function(t){return t instanceof RegExp?t.test(e):t===e})}))return E(new e("jwt audience invalid. expected: "+t.join(" or ")))}if(g.issuer){if("string"==typeof g.issuer&&I.iss!==g.issuer||Array.isArray(g.issuer)&&-1===g.issuer.indexOf(I.iss))return E(new e("jwt issuer invalid. expected: "+g.issuer))}if(g.subject&&I.sub!==g.subject)return E(new e("jwt subject invalid. expected: "+g.subject));if(g.jwtid&&I.jti!==g.jwtid)return E(new e("jwt jwtid invalid. expected: "+g.jwtid));if(g.nonce&&I.nonce!==g.nonce)return E(new e("jwt nonce invalid. expected: "+g.nonce));if(g.maxAge){if("number"!=typeof I.iat)return E(new e("iat required when maxAge is specified"));const t=i(g.maxAge,I.iat);if(void 0===t)return E(new e('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=t+(g.clockTolerance||0))return E(new n("maxAge exceeded",new Date(1e3*t)))}if(!0===g.complete){const e=A.signature;return E(null,{header:v,payload:I,signature:e})}return E(null,I)})}}function Di(){if(Ko)return zo;Ko=1;var e=1/0,t=9007199254740991,r=17976931348623157e292,n=NaN,o="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",a="[object String]",u="[object Symbol]",f=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=/^(?:0|[1-9]\d*)$/,y=parseInt;function d(e){return e!=e}function g(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,function(t){return e[t]})}var m,E,b=Object.prototype,w=b.hasOwnProperty,A=b.toString,v=b.propertyIsEnumerable,S=(m=Object.keys,E=Object,function(e){return m(E(e))}),I=Math.max;function O(e,t){var r=j(e)||function(e){return function(e){return P(e)&&B(e)}(e)&&w.call(e,"callee")&&(!v.call(e,"callee")||A.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!w.call(e,s)||i&&("length"==s||T(s,n))||r.push(s);return r}function R(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||b,t!==n)return S(e);var t,r,n,o=[];for(var i in Object(e))w.call(e,i)&&"constructor"!=i&&o.push(i);return o}function T(e,r){return!!(r=null==r?t:r)&&("number"==typeof e||h.test(e))&&e>-1&&e%1==0&&e<r}var j=Array.isArray;function B(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=$(e)?A.call(e):"";return t==i||t==s}(e)}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){return!!e&&"object"==typeof e}return zo=function(t,o,i,s){var h;t=B(t)?t:(h=t)?g(h,function(e){return B(e)?O(e):R(e)}(h)):[],i=i&&!s?function(t){var o=function(t){if(!t)return 0===t?t:0;if(t=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||P(e)&&A.call(e)==u}(e))return n;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var r=l.test(e);return r||p.test(e)?y(e.slice(2),r?2:8):c.test(e)?n:+e}(t),t===e||t===-1/0){return(t<0?-1:1)*r}return t==t?t:0}(t),i=o%1;return o==o?i?o-i:o:0}(i):0;var m=t.length;return i<0&&(i=I(m+i,0)),function(e){return"string"==typeof e||!j(e)&&P(e)&&A.call(e)==a}(t)?i<=m&&t.indexOf(o,i)>-1:!!m&&function(e,t,r){if(t!=t)return function(e,t,r){for(var n=e.length,o=r+-1;++o<n;)if(t(e[o],o,e))return o;return-1}(e,d,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(t,o,i)>-1}}function xi(){if(Zo)return Yo;Zo=1;var e=1/0,t=17976931348623157e292,r=NaN,n="[object Symbol]",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,f=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}return Yo=function(l){return"number"==typeof l&&l==function(l){var p=function(l){if(!l)return 0===l?l:0;if(l=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==n}(e))return r;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var l=s.test(e);return l||a.test(e)?u(e.slice(2),l?2:8):i.test(e)?r:+e}(l),l===e||l===-1/0){return(l<0?-1:1)*t}return l==l?l:0}(l),h=p%1;return p==p?h?p-h:p:0}(l)}}function Ci(){if(si)return ii;si=1;var e=1/0,t=17976931348623157e292,r=NaN,n="[object Symbol]",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,f=Object.prototype.toString;function c(c,p){var h;if("function"!=typeof p)throw new TypeError("Expected a function");return c=function(c){var p=function(c){if(!c)return 0===c?c:0;if(c=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==n}(e))return r;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var c=s.test(e);return c||a.test(e)?u(e.slice(2),c?2:8):i.test(e)?r:+e}(c),c===e||c===-1/0){return(c<0?-1:1)*t}return c==c?c:0}(c),h=p%1;return p==p?h?p-h:p:0}(c),function(){return--c>0&&(h=p.apply(this,arguments)),c<=1&&(p=void 0),h}}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}return ii=function(e){return c(2,e)}}function ki(){if(ui)return ai;ui=1;const e=Qr(),r=Li(),n=Ni(),o=zr(),i=Di(),s=function(){if(Jo)return Xo;Jo=1;var e=Object.prototype.toString;return Xo=function(t){return!0===t||!1===t||function(e){return!!e&&"object"==typeof e}(t)&&"[object Boolean]"==e.call(t)}}(),a=xi(),u=function(){if(ei)return Qo;ei=1;var e=Object.prototype.toString;return Qo=function(t){return"number"==typeof t||function(e){return!!e&&"object"==typeof e}(t)&&"[object Number]"==e.call(t)}}(),f=function(){if(ri)return ti;ri=1;var e,t,r=Function.prototype,n=Object.prototype,o=r.toString,i=n.hasOwnProperty,s=o.call(Object),a=n.toString,u=(e=Object.getPrototypeOf,t=Object,function(r){return e(t(r))});return ti=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=a.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var r=i.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&o.call(r)==s}}(),c=function(){if(oi)return ni;oi=1;var e=Object.prototype.toString,t=Array.isArray;return ni=function(r){return"string"==typeof r||!t(r)&&function(e){return!!e&&"object"==typeof e}(r)&&"[object String]"==e.call(r)}}(),l=Ci(),{KeyObject:p,createSecretKey:h,createPrivateKey:y}=t,d=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&d.splice(3,0,"PS256","PS384","PS512");const g={expiresIn:{isValid:function(e){return a(e)||c(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return a(e)||c(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return c(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:i.bind(null,d),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:c,message:'"encoding" must be a string'},issuer:{isValid:c,message:'"issuer" must be a string'},subject:{isValid:c,message:'"subject" must be a string'},jwtid:{isValid:c,message:'"jwtid" must be a string'},noTimestamp:{isValid:s,message:'"noTimestamp" must be a boolean'},keyid:{isValid:c,message:'"keyid" must be a string'},mutatePayload:{isValid:s,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:s,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:s,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},m={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function E(e,t,r,n){if(!f(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){const i=e[o];if(i){if(!i.isValid(r[o]))throw new Error(i.message)}else if(!t)throw new Error('"'+o+'" is not allowed in "'+n+'"')})}const b={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},w=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return ai=function(t,r,i,s){"function"==typeof i?(s=i,i={}):i=i||{};const a="object"==typeof t&&!Buffer.isBuffer(t),u=Object.assign({alg:i.algorithm||"HS256",typ:a?"JWT":void 0,kid:i.keyid},i.header);function f(e){if(s)return s(e);throw e}if(!r&&"none"!==i.algorithm)return f(new Error("secretOrPrivateKey must have a value"));if(null!=r&&!(r instanceof p))try{r=y(r)}catch(A){try{r=h("string"==typeof r?Buffer.from(r):r)}catch(v){return f(new Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==r.type)return f(new Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==r.type)return f(new Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==r.asymmetricKeyDetails&&r.asymmetricKeyDetails.modulusLength<2048)return f(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===t)return f(new Error("payload is required"));if(a){try{!function(e){E(m,!0,e,"payload")}(t)}catch(S){return f(S)}i.mutatePayload||(t=Object.assign({},t))}else{const e=w.filter(function(e){return void 0!==i[e]});if(e.length>0)return f(new Error("invalid "+e.join(",")+" option for "+typeof t+" payload"))}if(void 0!==t.exp&&void 0!==i.expiresIn)return f(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==t.nbf&&void 0!==i.notBefore)return f(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){E(g,!1,e,"options")}(i)}catch(S){return f(S)}if(!i.allowInvalidAsymmetricKeyTypes)try{n(u.alg,r)}catch(S){return f(S)}const c=t.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete t.iat:a&&(t.iat=c),void 0!==i.notBefore){try{t.nbf=e(i.notBefore,c)}catch(I){return f(I)}if(void 0===t.nbf)return f(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof t){try{t.exp=e(i.expiresIn,c)}catch(I){return f(I)}if(void 0===t.exp)return f(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(b).forEach(function(e){const r=b[e];if(void 0!==i[e]){if(void 0!==t[r])return f(new Error('Bad "options.'+e+'" option. The payload already has an "'+r+'" property.'));t[r]=i[e]}});const d=i.encoding||"utf8";if("function"!=typeof s){let e=o.sign({header:u,payload:t,secret:r,encoding:d});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return e}s=s&&l(s),o.createSign({header:u,privateKey:r,payload:t,encoding:d}).once("error",s).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return s(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));s(null,e)})}}const Mi=r(ci?fi:(ci=1,fi={decode:Kr(),verify:_i(),sign:ki(),JsonWebTokenError:Xr(),NotBeforeError:Jr(),TokenExpiredError:Yr()}));class Fi{static instance;supabase;constructor(){console.log(" [DATABASE] Initializing Supabase connection...");try{const e=i(),t=e.supabaseUrl,r=e.supabaseKey;if(!t||!r){const e="Missing required Supabase environment variables";throw console.error(" [DATABASE] "+e),new Error(e)}this.supabase=o(t,r),this.initDatabase()}catch(e){throw console.error(" [DATABASE] Failed to initialize:",e),e}}static getInstance(){return Fi.instance||(Fi.instance=new Fi),Fi.instance}getSupabaseClient(){return this.supabase}async initDatabase(){console.log(" [DATABASE] Database schema initialization completed")}async createUser(e,t,r){console.log(" [DATABASE] Creating user:",t,"with email:",e);const n=crypto.randomUUID(),o=new Date;try{const{data:i,error:s}=await this.supabase.from("users").insert({id:n,email:e,username:t,password:r,created_at:o.toISOString(),updated_at:o.toISOString()}).select().single();if(s){if(console.error(" [DATABASE] Error creating user:",s),"23505"===s.code)throw new Error("User with this email already exists");throw s}return console.log(" [DATABASE] User created successfully with ID:",n),{id:i.id,email:i.email,username:i.username,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}}catch(i){throw console.error(" [DATABASE] Error creating user:",i),i}}async findUserByEmail(e){console.log(" [DATABASE] Looking for user by email:",e);const{data:t,error:r}=await this.supabase.from("users").select("id, email, username, password, created_at, updated_at").eq("email",e).single();if(r){if("PGRST116"===r.code)return console.log(" [DATABASE] User not found:",e),null;throw console.error(" [DATABASE] Error finding user:",r),r}return console.log(" [DATABASE] User found:",t.username),{...t,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)}}async findUserById(e){console.log(" [DATABASE] Looking for user by ID:",e);const{data:t,error:r}=await this.supabase.from("users").select("id, email, username, created_at, updated_at").eq("id",e).single();if(r){if("PGRST116"===r.code)return console.log(" [DATABASE] User not found:",e),null;throw console.error(" [DATABASE] Error finding user:",r),r}return console.log(" [DATABASE] User found:",t.username),{id:t.id,email:t.email,username:t.username,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)}}async findUserByUsername(e){console.log(" [DATABASE] Looking for user by username:",e);const{data:t,error:r}=await this.supabase.from("users").select("id, email, username, password, created_at, updated_at").eq("username",e).single();if(r){if("PGRST116"===r.code)return console.log(" [DATABASE] User not found:",e),null;throw console.error(" [DATABASE] Error finding user:",r),r}return console.log(" [DATABASE] User found:",t.username),{...t,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)}}async updateUser(e,t){console.log(" [DATABASE] Updating user:",e);const r={updated_at:(new Date).toISOString()};void 0!==t.email&&(r.email=t.email),void 0!==t.username&&(r.username=t.username),void 0!==t.password&&(r.password=t.password);const{data:n,error:o}=await this.supabase.from("users").update(r).eq("id",e).select("id, email, username, created_at, updated_at").single();if(o)throw console.error(" [DATABASE] Error updating user:",o),o;return console.log(" [DATABASE] User updated successfully"),{id:n.id,email:n.email,username:n.username,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)}}async deleteUser(e){console.log(" [DATABASE] Deleting user:",e);const{error:t}=await this.supabase.from("users").delete().eq("id",e);return t?(console.error(" [DATABASE] Error deleting user:",t),!1):(console.log(" [DATABASE] User deleted successfully"),!0)}async getAllUsers(){console.log(" [DATABASE] Getting all users");const{data:e,error:t}=await this.supabase.from("users").select("id, email, username, created_at, updated_at").order("created_at",{ascending:!1});if(t)throw console.error(" [DATABASE] Error getting all users:",t),t;const r=e.map(e=>({id:e.id,email:e.email,username:e.username,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}));return console.log(" [DATABASE] Found",r.length,"users"),r}async getUserCount(){console.log(" [DATABASE] Getting user count");const{count:e,error:t}=await this.supabase.from("users").select("*",{count:"exact",head:!0});if(t)throw console.error(" [DATABASE] Error getting user count:",{message:t.message,code:t.code,details:t.details,hint:t.hint}),t;return console.log(" [DATABASE] User count:",e),e||0}async saveWatchingProgress(e,t,r,n,o,i){console.log(" [DATABASE] Saving watching progress:",{userId:e,animeId:t,season:r,episode:n,currentTime:o,duration:i});const s=i>0&&o>=.9*i,a=new Date,u=crypto.randomUUID(),{data:f,error:c}=await this.supabase.from("watching_progress").upsert({id:u,user_id:e,anime_id:t,season:r,episode:n,current_time:o,duration:i,last_watched_at:a.toISOString(),completed:s},{onConflict:"user_id,anime_id,season,episode"}).select().single();if(c)throw console.error(" [DATABASE] Error saving watching progress:",c),c;return console.log(" [DATABASE] Watching progress saved successfully"),{id:f.id,userId:f.user_id,animeId:f.anime_id,season:f.season,episode:f.episode,currentTime:f.current_time,duration:f.duration,lastWatchedAt:new Date(f.last_watched_at),completed:f.completed}}async getWatchingProgress(e,t,r,n){console.log(" [DATABASE] Getting watching progress:",{userId:e,animeId:t,season:r,episode:n});const{data:o,error:i}=await this.supabase.from("watching_progress").select("id, user_id, anime_id, season, episode, current_time, duration, last_watched_at, completed").eq("user_id",e).eq("anime_id",t).eq("season",r).eq("episode",n).single();if(i){if("PGRST116"===i.code)return console.log(" [DATABASE] No watching progress found"),null;throw console.error(" [DATABASE] Error getting watching progress:",i),i}return console.log(" [DATABASE] Found watching progress:",o.current_time,"/",o.duration),{id:o.id,userId:o.user_id,animeId:o.anime_id,season:o.season,episode:o.episode,currentTime:o.current_time,duration:o.duration,lastWatchedAt:new Date(o.last_watched_at),completed:o.completed}}async getUserContinueWatching(e,t=20){console.log(" [DATABASE] Getting continue watching for user:",e);const{data:r,error:n}=await this.supabase.from("watching_progress").select("id, user_id, anime_id, season, episode, current_time, duration, last_watched_at, completed").eq("user_id",e).eq("completed",!1).order("last_watched_at",{ascending:!1}).limit(t);if(n)throw console.error(" [DATABASE] Error getting continue watching:",n),n;const o=r.map(e=>({id:String(e.id),userId:String(e.user_id),animeId:String(e.anime_id),season:String(e.season),episode:Number(e.episode),currentTime:Number(e.current_time),duration:Number(e.duration),lastWatchedAt:new Date(e.last_watched_at),completed:Boolean(e.completed)}));return console.log(" [DATABASE] Found",o.length,"continue watching items"),o}async deleteWatchingProgress(e,t,r,n){console.log(" [DATABASE] Deleting watching progress:",{userId:e,animeId:t,season:r,episode:n});const{error:o}=await this.supabase.from("watching_progress").delete().eq("user_id",e).eq("anime_id",t).eq("season",r).eq("episode",n);return o?(console.error(" [DATABASE] Error deleting watching progress:",o),!1):(console.log(" [DATABASE] Watching progress deleted successfully"),!0)}async markAsCompleted(e,t,r,n){console.log(" [DATABASE] Marking episode as completed:",{userId:e,animeId:t,season:r,episode:n});const{error:o}=await this.supabase.from("watching_progress").update({completed:!0,last_watched_at:(new Date).toISOString()}).eq("user_id",e).eq("anime_id",t).eq("season",r).eq("episode",n);return o?(console.error(" [DATABASE] Error marking episode as completed:",o),!1):(console.log(" [DATABASE] Episode marked as completed successfully"),!0)}async executeSql(e){console.log(" [DATABASE] Executing SQL:",e.substring(0,100)+"...");const{error:t}=await this.supabase.rpc("exec_sql",{sql:e});if(t)throw t}}class Gi{static SALT_ROUNDS=12;static async hashPassword(e){return n.hash(e,this.SALT_ROUNDS)}static async verifyPassword(e,t){return n.compare(e,t)}static generateTokens(e){const t=i(),r=t.jwtSecret||"default-secret",n=t.jwtRefreshSecret||"default-refresh-secret",o=t.jwtExpiresIn||"7d",s=t.jwtRefreshExpiresIn||"30d",a={userId:e.id,email:e.email,username:e.username,type:"access"},u={userId:e.id,email:e.email,username:e.username,type:"refresh"};return{accessToken:Mi.sign(a,r,{expiresIn:o,issuer:"gazes-app"}),refreshToken:Mi.sign(u,n,{expiresIn:s,issuer:"gazes-app"})}}static verifyToken(e,t="access"){const r=i(),n="access"===t?r.jwtSecret:r.jwtRefreshSecret;try{return Mi.verify(e,n,{issuer:"gazes-app"})}catch(o){throw s({statusCode:401,statusMessage:"Invalid token"})}}static async createUser(e,t,r){console.log(" [AUTH_SERVICE] Creating user:",t,"with email:",e),console.log(" [AUTH_SERVICE] Hashing password...");const n=await this.hashPassword(r);console.log(" [AUTH_SERVICE] Password hashed successfully");const o=Fi.getInstance(),i=await o.createUser(e,t,n);return console.log(" [AUTH_SERVICE] User created successfully, returning without password"),i}static async findUserByEmail(e){console.log(" [AUTH_SERVICE] Looking for user by email:",e);const t=Fi.getInstance(),r=await t.findUserByEmail(e);return console.log(" [AUTH_SERVICE] User found:",r?"YES":"NO"),r}static async findUserById(e){console.log(" [AUTH_SERVICE] Looking for user by ID:",e);const t=Fi.getInstance(),r=await t.findUserById(e);return console.log(" [AUTH_SERVICE] User found:",r?"YES":"NO"),r}static async authenticateUser(e,t){console.log(" [AUTH_SERVICE] Attempting to authenticate user:",e);const r=await this.findUserByEmail(e);if(!r)return console.log(" [AUTH_SERVICE] User not found:",e),null;console.log(" [AUTH_SERVICE] User found, verifying password...");const n=await this.verifyPassword(t,r.password);if(console.log(" [AUTH_SERVICE] Password verification result:",n?"VALID":"INVALID"),!n)return console.log(" [AUTH_SERVICE] Invalid password for user:",e),null;const{password:o,...i}=r;return console.log(" [AUTH_SERVICE] Authentication successful for user:",r.username),i}static async getUserFromRequest(e){console.log(" [AUTH_SERVICE] Getting user from request...");try{const t=getCookie(e,"accessToken");if(console.log(" [AUTH_SERVICE] Access token found:",!!t),!t)return console.log(" [AUTH_SERVICE] No access token in request"),null;console.log(" [AUTH_SERVICE] Verifying access token...");const r=this.verifyToken(t,"access");console.log(" [AUTH_SERVICE] Token verified for user ID:",r.userId),console.log(" [AUTH_SERVICE] Finding user by ID...");const n=await this.findUserById(r.userId);return console.log(" [AUTH_SERVICE] User found from token:",n?"YES":"NO"),n}catch(t){return console.error(" [AUTH_SERVICE] Error getting user from request:",t),null}}static setAuthCookies(e,t){setCookie(e,"accessToken",t.accessToken,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:604800,path:"/"}),setCookie(e,"refreshToken",t.refreshToken,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:2592e3,path:"/"})}static clearAuthCookies(e){deleteCookie(e,"accessToken"),deleteCookie(e,"refreshToken")}}const Vi=defineEventHandler(async e=>{if(e.node.req.url?.startsWith("/api/auth"))return;if(["/api/search","/api/catalogue","/api/anime","/api/providers","/api/proxy"].some(t=>e.node.req.url?.startsWith(t)))return;const t=await Gi.getUserFromRequest(e);if(!t)throw s({statusCode:401,statusMessage:"Authentication required"});e.context.user=t});export{Vi as default};
