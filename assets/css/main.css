/* Base theme tokens */
:root {
    --bg: #09090b;           /* zinc-950 */
    --panel: rgba(24,24,27,0.6); /* zinc-900/60 */
    --border: #27272a;       /* zinc-800 */
    --text: #fafafa;         /* zinc-50 */
    --ink: #e4e4e7;          /* zinc-200 */
    --muted: #a1a1aa;        /* zinc-400 */
    --accent: #7c3aed;       /* violet-600 */
    --accent-600: #6d28d9;   /* violet-700 */
}

html {
    @apply bg-zinc-950 text-white antialiased;
}

/* Typography scale */
h1 { @apply text-3xl md:text-4xl font-extrabold tracking-tight; }
h2 { @apply text-2xl md:text-3xl font-bold; }
h3 { @apply text-xl md:text-2xl font-semibold; }
p  { @apply leading-relaxed; }

.muted { color: var(--muted); }

/* Generic layout helpers */
.section { @apply py-6 md:py-8; }
.row-title { @apply text-xl md:text-2xl font-semibold; }

/* Form controls */
.input {
    @apply bg-zinc-900/50 border border-zinc-800 rounded-lg px-4 py-2 text-sm outline-none text-zinc-100 placeholder-zinc-500;
}
.input:focus { @apply ring-2 ring-violet-700/40 border-violet-700; }

/* Variant: inputs with a leading icon */
.input-with-icon {
    @apply pl-12;
}

/* Buttons */
.btn { @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-medium transition-colors; }
.btn.primary { @apply bg-violet-700 text-white border border-violet-700 hover:bg-violet-600; }
.btn.secondary { @apply bg-zinc-900/60 text-zinc-100 border border-zinc-700 hover:border-zinc-600; }
.btn.ghost { @apply bg-transparent text-zinc-200 border border-transparent hover:border-zinc-700; }
.btn:disabled { @apply opacity-50 cursor-not-allowed; }

/* Pills & badges */
.pills { @apply flex flex-wrap gap-2; }
.pill { @apply inline-flex items-center gap-2 rounded-full border border-zinc-800 bg-zinc-900/40 px-3 py-1 text-xs text-zinc-200 hover:border-zinc-700 transition; }
.pill.selected { @apply bg-purple-500/40 border-purple-500; }
.pill-lg { @apply text-sm px-4 py-1.5; }
@media (min-width: 1024px) {
    .pill-lg { @apply text-base px-5 py-2; }
}
.badge { @apply inline-flex items-center gap-2 rounded-full border border-zinc-800 bg-zinc-900/60 px-2.5 py-1 text-xs text-zinc-300; }
.badge .dot { @apply inline-block h-2 w-2 rounded-full bg-violet-600; }

/* Tabs */
.tabs { @apply inline-flex items-center gap-2 bg-zinc-900/40 p-1 rounded-full border border-zinc-800; }
.tab { @apply btn ghost px-3 py-1.5 text-xs md:text-sm rounded-full; }
.tab.active { @apply bg-violet-700 text-white border border-violet-700; }

/* Dividers */
.divider { @apply h-px w-full bg-gradient-to-r from-transparent via-zinc-800 to-transparent my-4; }

/* Overlay / modal helpers */
.scrim { @apply fixed inset-0 bg-zinc-950/80 backdrop-blur-sm z-40; }
.card { @apply bg-zinc-900/80 backdrop-blur border border-zinc-800 rounded-xl; }

/* Responsive poster grid: max 5 per row, keeps nice ratios */
.poster-grid {
    @apply flex flex-wrap gap-4;
}
.poster-item {
    /* Default ~50% on very small, then 33%, 25%, and cap at 20% (5 per row) */
    flex: 1 1 calc(50% - 1rem);
}
@media (min-width: 640px) {
    .poster-item { flex-basis: calc(33.333% - 1rem); }
}
@media (min-width: 768px) {
    .poster-item { flex-basis: calc(25% - 1rem); }
}
@media (min-width: 1024px) {
    .poster-item { flex-basis: calc(20% - 1rem); }
}
@media (min-width: 1280px) {
    /* 6 per row on big screens */
    .poster-item { flex-basis: calc(16.666% - 1rem); }
}

    /* Placeholder to fill incomplete rows */
    /* Invisible placeholder that still occupies space */
    .poster-placeholder {
        @apply w-full aspect-[9/12] invisible;
    }
    /* Filler visibility per breakpoint (5-col at lg, 6-col at xl+) */
    .poster-filler-5 { display: none; }
    @media (min-width: 1024px) { .poster-filler-5 { display: block; } }
    @media (min-width: 1280px) { .poster-filler-5 { display: none; } }

    .poster-filler-6 { display: none; }
    @media (min-width: 1280px) { .poster-filler-6 { display: block; } }

/* ðŸš€ Critical Performance Optimizations */

/* Critical loading states for instant feedback */
.loading {
  opacity: 0;
  animation: criticalFadeIn 0.15s ease-out forwards;
}

.loaded {
  opacity: 1;
}

@keyframes criticalFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Ultra-fast loading spinner */
.loading-spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #7c3aed;
  animation: criticalSpin 0.8s linear infinite;
}

@keyframes criticalSpin {
  to { transform: rotate(360deg); }
}

/* Lazy loading optimizations */
.lazy-image {
  opacity: 0;
  transform: scale(1.05);
  transition: opacity 0.2s ease, transform 0.2s ease;
  will-change: opacity, transform;
}

.lazy-image.loaded {
  opacity: 1;
  transform: scale(1);
}

.lazy-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity 0.3s ease;
  will-change: opacity;
}

.lazy-bg.bg-loaded {
  opacity: 1;
}

/* Performance optimizations */
* {
  box-sizing: border-box;
}

/* Optimize font loading and rendering */
html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-display: swap;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* GPU acceleration for smooth animations */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize button interactions */
.btn {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Critical path optimizations */
.critical-path {
  content-visibility: auto;
  contain-intrinsic-size: 0 200px;
}

/* Reduce layout shifts */
.aspect-ratio-box {
  aspect-ratio: var(--aspect-ratio, 16/9);
}

/* Optimize image loading */
img {
  max-width: 100%;
  height: auto;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Performance-focused animations */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 30px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

.slide-in-up {
  animation: slideInUp 0.4s ease-out;
}

/* Optimize focus states for accessibility */
.focus-visible:focus-visible {
  outline: 2px solid #7c3aed;
  outline-offset: 2px;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}